(function(e){function t(t){for(var r,o,s=t[0],l=t[1],c=t[2],d=0,p=[];d<s.length;d++)o=s[d],a[o]&&p.push(a[o][0]),a[o]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r]);u&&u(t);while(p.length)p.shift()();return i.push.apply(i,c||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],r=!0,s=1;s<n.length;s++){var l=n[s];0!==a[l]&&(r=!1)}r&&(i.splice(t--,1),e=o(o.s=n[0]))}return e}var r={},a={app:0},i=[];function o(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=r,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=t,s=s.slice();for(var c=0;c<s.length;c++)t(s[c]);var u=l;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("cd49")},"0e4e":function(e,t,n){},"0ffa":function(e,t,n){"use strict";var r=n("317f"),a=n.n(r);a.a},"26ab":function(e,t,n){"use strict";var r=n("5a1a"),a=n.n(r);a.a},"317f":function(e,t,n){},3536:function(e,t,n){"use strict";var r=n("0e4e"),a=n.n(r);a.a},3709:function(e,t,n){},"4a48":function(e,t,n){"use strict";var r=n("f420"),a=n.n(r);a.a},"4c36":function(e,t,n){"use strict";var r=n("6e81"),a=n.n(r);a.a},"4cab":function(e,t,n){"use strict";var r=n("d8cd"),a=n.n(r);a.a},"4f60":function(e,t,n){},5440:function(e,t,n){"use strict";var r=n("dc3a"),a=n.n(r);a.a},5564:function(e,t,n){},"5a1a":function(e,t,n){},"5c64":function(e,t,n){"use strict";var r=n("ea9e"),a=n.n(r);a.a},6355:function(e,t,n){"use strict";var r=n("df7a"),a=n.n(r);a.a},"65be":function(e,t,n){},"6c8c":function(e,t,n){},"6e81":function(e,t,n){},"775b":function(e,t,n){},"78a3":function(e,t,n){},"8ae8":function(e,t,n){"use strict";var r=n("cdd4"),a=n.n(r);a.a},"902e":function(e,t,n){"use strict";var r=n("65be"),a=n.n(r);a.a},"93d2":function(e,t,n){"use strict";var r=n("6c8c"),a=n.n(r);a.a},a877:function(e,t,n){"use strict";var r=n("be08"),a=n.n(r);a.a},b135:function(e,t,n){},be08:function(e,t,n){},c66d:function(e,t,n){"use strict";var r=n("4f60"),a=n.n(r);a.a},cc2f:function(e,t,n){"use strict";var r=n("3709"),a=n.n(r);a.a},cd49:function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("f751"),n("097d");var r=n("2b0e"),a=n("ce5b"),i=n.n(a),o=(n("26df"),n("5025")),s=n.n(o);r["default"].use(i.a,{iconfont:"mdi",lang:{locales:{zhHans:s.a},current:"zhHans"}});n("8e6e"),n("ac4d"),n("8a81"),n("ac6a"),n("456d");var l,c=n("bd86"),u=(n("96cf"),n("3b8d")),d=n("2f62"),p=n("2ef0"),f=n.n(p),v={"pt.m-team.cc":{name:"M-Team",icon:"https://pt.m-team.cc/favicon.ico"},"pt.keepfrds.com":{name:"FRDS",icon:"https://pt.keepfrds.com/static/favicon-64x64.png"},"hdcmct.org":{name:"CMCT",icon:"https://hdcmct.org/favicon.ico"},"hdchina.org":{name:"HDChina",icon:"https://hdchina.org/favicon.ico"},"chdbits.co":{name:"CHDBits",icon:"https://chdbits.co/favicon.ico"},"hdhome.org":{name:"HDHome",icon:"https://hdhome.org/favicon.ico"},"u2.dmhy.org":{name:"U2",icon:"https://u2.dmhy.org/favicon.ico"}},m=v;(function(e){e["Downloading"]="downloading",e["Seeding"]="seeding",e["Completed"]="completed",e["Resumed"]="resumed",e["Paused"]="pasued",e["Active"]="active",e["Inactive"]="inactive",e["Errored"]="errored"})(l||(l={}));var h=[l.Downloading,l.Seeding,l.Completed,l.Resumed,l.Paused,l.Active,l.Inactive,l.Errored],b=(n("2fdb"),n("6b54"),n("5695"),n("75fc")),g=(n("f559"),n("6762"),["downloading","metaDL","stalledDL","checkingDL","pausedDL","queuedDL","forceDL","allocating"]),x=["uploading","stalledUP","checkingUP","queuedUP","forceUP"],y=["uploading","stalledUP","checkingUP","pausedUP","queuedUP","forceUP"],k=["metaDL","downloading","forceDL","uploading","forcedUP","moving"],w=["error","missingFiles"];function O(e,t){var n;switch(e){case l.Downloading:n=g.includes(t);break;case l.Seeding:n=x.includes(t);break;case l.Completed:n=y.includes(t);break;case l.Resumed:case l.Paused:var r=t.startsWith("paused");n=e===l.Paused?r:!r;break;case l.Active:case l.Inactive:var a=k.includes(t);n=e===l.Active?a:!a;break;case l.Errored:n=w.includes(t);break}return n}function j(e){return new Promise(function(t){return setTimeout(t,e)})}function P(e){var t=127397;e=e.toUpperCase();var n=Object(b["a"])(e).map(function(e){return t+e.charCodeAt(0)}),r=String.fromCodePoint.apply(String,Object(b["a"])(n)),a="https://cdn.jsdelivr.net/npm/twemoji/2/svg/"+"".concat(n[0].toString(16),"-").concat(n[1].toString(16),".svg");return{char:r,url:a}}var T=navigator.userAgent.includes("Windows"),C={enable:{set:function(e){return f.a.isNaN(e)?-1:e},get:function(e){return e<0?"":e}},1024:{set:function(e){return 1024*e},get:function(e){return e/1024}}};function D(e,t){var n=f.a.union(f.a.keys(e),f.a.keys(t));return f.a.reduce(n,function(n,r){return f.a.isEqual(t[r],e[r])||(n[r]=t[r]),n},{})}function S(e){var t=e.keys,n=e.parent,r=void 0===n?"":n,a=e.prefix,i=void 0===a?"":a;return f.a.reduce(t,function(e,t,n){var a={};return f.a.isObject(t)&&(a=t,t=a.path),f.a.isNumber(n)&&(n=t),a.key&&(n=a.key),f.a.isString(a.trans)&&(a.trans=f.a.get(C,a.trans)),e["".concat(i?"".concat(i,"_"):"").concat(n)]={get:function(){var e=f.a.get(a,"trans.get",function(e){return e});return e(f.a.get(this.$store.state,[r,t]),this.$store.state)},set:function(e){var n=f.a.get(a,"trans.set",function(e){return e});this.$store.commit("updateState",{key:[r,t],val:n(e,this.$store.state)})}},e},{})}function R(e){var t=e.toString();return 1==t.length&&(t="0"+t),t}var V=n("768b"),$=(n("ffc1"),n("d225")),A=n("b0b4"),L=n("bc3a"),I=n.n(L);function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function B(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(n,!0).forEach(function(t){Object(c["a"])(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var F=function(){function e(){Object($["a"])(this,e),this.axios=I.a.create({baseURL:"/api/v2"}),this.axios.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded"}return Object(A["a"])(e,[{key:"getAppVersion",value:function(){return this.axios.get("/app/version")}},{key:"getApiVersion",value:function(){return this.axios.get("/app/webapiVersion")}},{key:"login",value:function(e){var t=new URLSearchParams(e);return this.axios.post("/auth/login",t,{validateStatus:function(e){return 200===e||403===e}}).then(this.handleResponse)}},{key:"getGlobalTransferInfo",value:function(){return this.axios.get("/transfer/info")}},{key:"getAppPreferences",value:function(){return this.axios.get("/app/preferences")}},{key:"getMainData",value:function(e){var t={rid:e};return this.axios.get("/sync/maindata",{params:t})}},{key:"addTorrents",value:function(e,t){var n;if(t){for(var r=new FormData,a=0,i=Object.entries(e);a<i.length;a++){var o=Object(V["a"])(i[a],2),s=o[0],l=o[1];r.append(s,l)}var c=!0,u=!1,d=void 0;try{for(var p,f=t[Symbol.iterator]();!(c=(p=f.next()).done);c=!0){var v=p.value;r.append("torrents",v)}}catch(m){u=!0,d=m}finally{try{c||null==f.return||f.return()}finally{if(u)throw d}}n=r}else n=new URLSearchParams(e);return this.axios.post("/torrents/add",n).then(this.handleResponse)}},{key:"switchToOldUi",value:function(){var e={alternative_webui_enabled:!1},t=new URLSearchParams({json:JSON.stringify(e)});return this.axios.post("/app/setPreferences",t)}},{key:"getLogs",value:function(e){var t={last_known_id:e};return this.axios.get("/log/main",{params:t}).then(this.handleResponse)}},{key:"toggleSpeedLimitsMode",value:function(){return this.axios.post("/transfer/toggleSpeedLimitsMode")}},{key:"deleteTorrents",value:function(e,t){return this.actionTorrents("delete",e,{deleteFiles:t})}},{key:"pauseTorrents",value:function(e){return this.actionTorrents("pause",e)}},{key:"resumeTorrents",value:function(e){return this.actionTorrents("resume",e)}},{key:"reannounceTorrents",value:function(e){return this.actionTorrents("reannounce",e)}},{key:"recheckTorrents",value:function(e){return this.actionTorrents("recheck",e)}},{key:"setTorrentsCategory",value:function(e,t){return this.actionTorrents("setCategory",e,{category:t})}},{key:"setTorrentsAutomatic",value:function(e,t){return this.actionTorrents("setAutoManagement",e,{enable:t})}},{key:"getTorrentTracker",value:function(e){var t={hash:e};return this.axios.get("/torrents/trackers",{params:t}).then(this.handleResponse)}},{key:"getTorrentPeers",value:function(e,t){var n={hash:e,rid:t};return this.axios.get("/sync/torrentPeers",{params:n}).then(this.handleResponse)}},{key:"actionTorrents",value:function(e,t,n){var r=B({hashes:t.join("|")},n),a=new URLSearchParams(r);return this.axios.post("/torrents/"+e,a).then(this.handleResponse)}},{key:"actionRss",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.axios.post("/rss/".concat(e),new URLSearchParams(t)).then(this.handleResponse)}},{key:"action",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.axios.post("/".concat(e),new URLSearchParams(t)).then(this.handleResponse)}},{key:"handleResponse",value:function(e){return e.data}}]),e}(),U=new F,N=(n("7f7f"),n("5a0c")),z=n.n(N);function M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M(n,!0).forEach(function(t){Object(c["a"])(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var G={namespaced:!0,state:{items:{},rules:[]},mutations:{getRssItemsSuccess:function(e,t){var n=t.items,r=void 0===n?{}:n;e.items=f.a.reduce(r,function(e,t,n){return t.articles&&t.articles.length&&(t.articles=f.a.orderBy(t.articles,function(e){return z()(e.date).valueOf()},["desc"])),t.name=n,q({},e,Object(c["a"])({},n,t))},{})},getAllRulesSuccess:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{rules:{}};e.rules=f.a.map(t.rules,function(e,t){return q({},e,{name:t})})}},actions:{addItem:function(){var e=Object(u["a"])(regeneratorRuntime.mark(function e(t){var n,r,a=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=t.dispatch,r=a.length>1&&void 0!==a[1]?a[1]:{url:"",name:""},e.next=4,U.actionRss("addFeed",{url:r.url,path:r.name});case 4:e.sent,n("getAllItems");case 6:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}(),removeItem:function(){var e=Object(u["a"])(regeneratorRuntime.mark(function e(t){var n,r,a=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=t.dispatch,r=a.length>1&&void 0!==a[1]?a[1]:{name:""},e.next=4,U.actionRss("removeItem",{path:r.name});case 4:e.sent,n("getAllItems");case 6:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}(),renameItem:function(){var e=Object(u["a"])(regeneratorRuntime.mark(function e(t){var n,r,a=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=t.dispatch,r=a.length>1&&void 0!==a[1]?a[1]:{name:"",newName:""},e.next=4,U.actionRss("moveItem",{itemPath:r.name,destPath:r.newName});case 4:e.sent,n("getAllItems");case 6:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}(),getAllItems:function(){var e=Object(u["a"])(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,e.next=3,U.actionRss("items",{withData:!0});case 3:return r=e.sent,e.abrupt("return",n("getRssItemsSuccess",{items:r}));case 5:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}(),refreshItem:function(){var e=Object(u["a"])(regeneratorRuntime.mark(function e(t){var n,r,a=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=t.dispatch,r=a.length>1&&void 0!==a[1]?a[1]:{name:""},e.next=4,U.actionRss("refreshItem",{itemPath:r.name});case 4:return e.sent,e.abrupt("return",n("getAllItems"));case 6:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}(),setRule:function(){var e=Object(u["a"])(regeneratorRuntime.mark(function e(t){var n,r,a=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=t.dispatch,r=a.length>1&&void 0!==a[1]?a[1]:{name:"",rule:{}},e.next=4,U.actionRss("setRule",{ruleName:r.name,ruleDef:JSON.stringify(r.rule)});case 4:e.sent,n("getAllRules");case 6:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}(),renameRull:function(){var e=Object(u["a"])(regeneratorRuntime.mark(function e(t){var n,r,a=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=t.dispatch,r=a.length>1&&void 0!==a[1]?a[1]:{name:"",newName:""},e.next=4,U.actionRss("renameRull",{ruleName:r.name,newRuleName:r.newName});case 4:e.sent,n("getAllRules");case 6:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}(),removeRule:function(){var e=Object(u["a"])(regeneratorRuntime.mark(function e(t){var n,r,a=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=t.dispatch,r=a.length>1&&void 0!==a[1]?a[1]:{name:""},e.next=4,U.actionRss("removeRule",{ruleName:r.name});case 4:e.sent,n("getAllRules");case 6:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}(),getAllRules:function(){var e=Object(u["a"])(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,e.next=3,U.actionRss("rules");case 3:r=e.sent,n("getAllRulesSuccess",{rules:r});case 5:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}()}},H={namespaced:!0,getters:{allCategories:function(e,t,n,r){if(!n.mainData)return[];var a=f.a.map(n.mainData.categories,function(e,t){return f.a.merge({},e,{key:t})});return f.a.sortBy(a,"name")},torrentGroupByCategory:function(e,t,n,r){return f.a.groupBy(r.allTorrents,function(e){return e.category})}},actions:{createCategory:function(){var e=Object(u["a"])(regeneratorRuntime.mark(function e(t,n){var r,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t.dispatch,r=n.path,a=n.name,e.next=4,U.action("torrents/createCategory",{category:a,savePath:r});case 4:e.sent;case 5:case"end":return e.stop()}},e)}));function t(t,n){return e.apply(this,arguments)}return t}(),editCategory:function(){var e=Object(u["a"])(regeneratorRuntime.mark(function e(t,n){var r,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t.dispatch,r=n.path,a=n.name,e.next=4,U.action("torrents/editCategory",{category:a,savePath:r});case 4:e.sent;case 5:case"end":return e.stop()}},e)}));function t(t,n){return e.apply(this,arguments)}return t}(),removeCategories:function(){var e=Object(u["a"])(regeneratorRuntime.mark(function e(t,n){var r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t.dispatch,r=n.name,f.a.isArray(r)&&(r=r.join("\n")),e.next=5,U.action("torrents/removeCategories",{categories:r});case 5:e.sent;case 6:case"end":return e.stop()}},e)}));function t(t,n){return e.apply(this,arguments)}return t}()}},W=(n("28a5"),function(e){return f.a.isArray(e)&&(e=e.join("|")),e}),Y=function(e){return f.a.isArray(e)&&(e=e.join(",")),e},J={namespaced:!0,getters:{allTags:function(e,t,n){return f.a.get(n,"mainData.tags",[])},torrentGroupByTag:function(e,t,n,r){return f.a.reduce(r.allTorrents,function(e,t){return f.a.map(t.tags.split(","),function(n){n=f.a.trim(n),e[n]=e[n]||[],e[n].push(t)}),e},{})}},actions:{createTags:function(){var e=Object(u["a"])(regeneratorRuntime.mark(function e(t,n){var r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t.dispatch,r=n.tags,r=Y(r),e.next=5,U.action("torrents/createTags",{tags:r});case 5:e.sent;case 6:case"end":return e.stop()}},e)}));function t(t,n){return e.apply(this,arguments)}return t}(),addTags:function(){var e=Object(u["a"])(regeneratorRuntime.mark(function e(t,n){var r,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t.dispatch,r=n.hashes,a=n.tags,a=Y(a),r=W(r),e.next=6,U.action("torrents/addTags",{hashes:r,tags:a});case 6:e.sent;case 7:case"end":return e.stop()}},e)}));function t(t,n){return e.apply(this,arguments)}return t}(),removeTags:function(){var e=Object(u["a"])(regeneratorRuntime.mark(function e(t,n){var r,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t.dispatch,r=n.hashes,a=n.tags,a=Y(a),r=W(r),e.next=6,U.action("torrents/removeTags",{hashes:r,tags:a});case 6:e.sent;case 7:case"end":return e.stop()}},e)}));function t(t,n){return e.apply(this,arguments)}return t}(),deleteTags:function(){var e=Object(u["a"])(regeneratorRuntime.mark(function e(t,n){var r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t.dispatch,r=n.tags,r=Y(r),e.next=5,U.action("torrents/deleteTags",{tags:r});case 5:e.sent;case 6:case"end":return e.stop()}},e)}));function t(t,n){return e.apply(this,arguments)}return t}()}};function K(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?K(n,!0).forEach(function(t){Object(c["a"])(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}r["default"].use(d["a"]);var X={updateInterval:2e3,pagination:{rowsPerPage:1e3},filter:{state:null,category:null,site:null}},Q="qb-config";function ee(e){localStorage[Q]=JSON.stringify(e)}function te(){var e=localStorage[Q];return e?JSON.parse(e):{}}var ne=new d["a"].Store({state:{rid:0,mainData:null,userConfig:te(),orgPreferences:{},preferences:{},dialogs:{add:{open:!1,params:{}}},addParams:{}},modules:{rss:G,category:H,tag:J},actions:{getPreferences:function(){var e=Object(u["a"])(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,e.next=3,U.getAppPreferences();case 3:r=e.sent,n("updatePreferences",r.data);case 5:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}(),setPreferences:function(){var e=Object(u["a"])(regeneratorRuntime.mark(function e(t){var n,r,a,i,o,s=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(n=t.commit,r=t.state,a=s.length>1&&void 0!==s[1]?s[1]:{},i=Z({},r.preferences,{},a),o=D(r.orgPreferences,i),!(Object.keys(o).length>0)){e.next=7;break}return e.next=7,U.action("app/setPreferences",{json:JSON.stringify(o)});case 7:return e.abrupt("return",n("updatePreferences",i));case 8:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}(),getAllData:function(){var e=Object(u["a"])(regeneratorRuntime.mark(function e(t){var n,r,a,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,r=t.state,a=r.rid?r.rid:null,e.next=4,U.getMainData(a);case 4:i=e.sent,n("updateMainData",i.data);case 6:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}()},mutations:{dialogAction:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.key,r=t.value,a=t.params;e.dialogs[n]=f.a.isUndefined(r)?!e.dialogs[n]:r,e.dialogs[n]={open:f.a.isUndefined(r)?!f.a.get(e,["dialogs",n,"open"],!1):r,params:a}},updateMainData:function(e,t){if(e.rid=t.rid,t.full_update)e.mainData=t;else{var n=f.a.cloneDeep(e.mainData);if(t.torrents_removed){var r=!0,a=!1,i=void 0;try{for(var o,s=t.torrents_removed[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){var l=o.value;delete n.torrents[l]}}catch(h){a=!0,i=h}finally{try{r||null==s.return||s.return()}finally{if(a)throw i}}delete t.torrents_removed}if(t.categories_removed){var c=!0,u=!1,d=void 0;try{for(var p,v=t.categories_removed[Symbol.iterator]();!(c=(p=v.next()).done);c=!0){var m=p.value;delete n.categories[m]}}catch(h){u=!0,d=h}finally{try{c||null==v.return||v.return()}finally{if(u)throw d}}delete t.categories_removed}t.tags_removed&&(f.a.remove(n.tags,function(e){return f.a.indexOf(t.tags_removed,e)>=0}),delete t.tags_removed),t.tags&&(n.tags=n.tags.concat(t.tags),delete t.tags),e.mainData=f.a.merge(n,t)}},updatePreferences:function(e,t){e.orgPreferences=f.a.clone(t),e.preferences=t},updateConfig:function(e,t){var n=t.key,a=t.value,i=f.a.merge({},e.userConfig[n],a);r["default"].set(e.userConfig,n,i),ee(e.userConfig)},updateState:function(e,t){var n=t.key,r=void 0===n?"":n,a=t.val;r&&f.a.set(e,r,a)}},getters:{config:function(e){return f.a.merge({},X,e.userConfig)},isDataReady:function(e){return!!e.mainData},allTorrents:function(e){return e.mainData?f.a.map(e.mainData.torrents,function(e,t){return f.a.merge({},e,{hash:t})}):[]},allSavePaths:function(e,t){return f.a.chain(t.allTorrents).map(function(e){return e.save_path}).compact().value()},torrentGroupBySite:function(e,t){return f.a.groupBy(t.allTorrents,function(e){if(!e.tracker)return"";var t=new URL(e.tracker);return t.hostname})},torrentGroupByState:function(e,t){var n={},r=function(e,t){var r=n[e];r||(r=[],n[e]=r),r.push(t)},a=!0,i=!1,o=void 0;try{for(var s,l=t.allTorrents[Symbol.iterator]();!(a=(s=l.next()).done);a=!0){var c=s.value,u=!0,d=!1,p=void 0;try{for(var f,v=h[Symbol.iterator]();!(u=(f=v.next()).done);u=!0){var m=f.value;O(m,c.state)&&r(m,c)}}catch(_){d=!0,p=_}finally{try{u||null==v.return||v.return()}finally{if(d)throw p}}}}catch(_){i=!0,o=_}finally{try{a||null==l.return||l.return()}finally{if(i)throw o}}return n}}});function re(e,t){return e>=Math.pow(10,t)?e.toString():e>=1?e.toPrecision(t):e.toFixed(t-1)}function ae(e){var t="KMGTP",n=-1;while(e>=1e3)n++,e/=1024;var r=n<0?"B":t[n]+"iB";return"".concat(re(e,3)," ").concat(r)}function ie(e,t){var n=60,r=60*n,a=24*r,i=365*a,o=[i,a,r,n,1],s="ydhms",l=0,c=0,u=[],d={maxUnitSize:1,dayLimit:0},p=t?Object.assign(d,t):d;if(p.dayLimit&&e>=p.dayLimit*a)return"∞";while(1){if(p.maxUnitSize&&c===p.maxUnitSize||l===o.length)break;var f=o[l];if(e<f)l++;else{var v=Math.floor(e/f);u.push(v+s[l]),e%=f,l++,c++}}return u.join(" ")}function oe(e,t){var n=Date.now()/1e3-e;return ie(n,t)}function se(e){return e*=100,re(e,3)+"%"}r["default"].filter("formatSize",ae),r["default"].filter("size",ae),r["default"].filter("formatDuration",ie),r["default"].filter("boolean",function(e){return e?"是":"否"}),r["default"].filter("formatTimestamp",function(e){if(null===e)return"";var t=z.a.unix(e);return t.format("YYYY-MM-DD HH:mm:ss")}),r["default"].filter("formatDate",function(e){if(!e)return"";var t=z()(e);return t.format("YYYY-MM-DD HH:mm:ss")}),r["default"].filter("formatAsDuration",oe),r["default"].filter("progress",se),r["default"].filter("torrentStatus",function(e){return f.a.get({metaDL:"",allocating:"分配中",downloading:"下載中",forcedDL:"強制下載",uploading:"上傳中",forcedUP:"強制上傳",stalledDL:"等待下載",stalledUP:"等待上傳",pausedDL:"暫停下載",pausedUP:"暫停上傳",queuedDL:"隊列下載",queuedUP:"隊列上傳",checkingDL:"檢查下載",checkingUP:"檢查上傳",queuedForChecking:"檢查隊列",checkingResumeData:"檢查hash",moving:"移動中",error:"錯誤",unknown:"未知",missingFiles:"丢失文件"},e,e)}),r["default"].directive("class",function(e,t){var n=t.arg;e.classList.toggle(n,t.value)});var le=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",{ref:"app"},[n("v-navigation-drawer",{staticClass:"drawer",attrs:{width:"250",app:"",clipped:e.$vuetify.breakpoint.lgAndUp},model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[n("drawer",{model:{value:e.drawerOptions,callback:function(t){e.drawerOptions=t},expression:"drawerOptions"}}),e.phoneLayout?[n("v-spacer"),n("v-divider"),n("v-expansion-panel",{staticClass:"drawer-footer",attrs:{value:1}},[n("v-expansion-panel-content",{attrs:{lazy:"",expand:"",value:[!0]},on:{input:e.drawerFooterOpen},scopedSlots:e._u([{key:"header",fn:function(){return[n("v-layout",{attrs:{"align-center":""}},[n("v-icon",{staticClass:"footer-icon shrink"},[e._v("mdi-information-outline")]),n("span",{staticClass:"footer-title"},[e._v("狀態信息")])],1)]},proxy:!0}],null,!1,2755947917)},[n("app-footer",{attrs:{"phone-layout":""}})],1),n("div",{ref:"end"})],1)]:e._e()],2),n("v-btn",{staticClass:"btn-menu",class:{"with-footer":e.$vuetify.breakpoint.smAndUp},attrs:{fab:"",bottom:"",color:"primary",fixed:"",left:"",small:""},on:{click:function(t){e.drawer=!e.drawer}}},[n("v-icon",[e._v("mdi-menu")])],1),n("v-content",[n("torrents")],1),e.preferences?n("add-form",{attrs:{url:e.pasteUrl},on:{input:function(t){e.pasteUrl=null}}}):e._e(),e.needAuth?n("login-form",{model:{value:e.needAuth,callback:function(t){e.needAuth=t},expression:"needAuth"}}):e._e(),e.drawerOptions.showLogs?n("logs-dialog",{model:{value:e.drawerOptions.showLogs,callback:function(t){e.$set(e.drawerOptions,"showLogs",t)},expression:"drawerOptions.showLogs"}}):e._e(),e.drawerOptions.showRss?n("Rss-Dialog",{model:{value:e.drawerOptions.showRss,callback:function(t){e.$set(e.drawerOptions,"showRss",t)},expression:"drawerOptions.showRss"}}):e._e(),e.drawerOptions.showSetting?n("setting-Dialog",{model:{value:e.drawerOptions.showSetting,callback:function(t){e.$set(e.drawerOptions,"showSetting",t)},expression:"drawerOptions.showSetting"}}):e._e(),e.$vuetify.breakpoint.smAndUp?n("v-footer",{staticClass:"elevation-4",attrs:{app:"",height:"auto"}},[n("app-footer")],1):e._e()],1)},ce=[],ue=function(){var e,t=this,n=t.$createElement,r=t._self._c||n;return r("div",[r("v-btn",{staticClass:"btn-add",class:{"with-footer":t.$vuetify.breakpoint.smAndUp},attrs:{fab:"",bottom:"",color:"primary",fixed:"",right:"",small:""},on:{click:t.open}},[r("v-icon",[t._v("mdi-plus")])],1),r("v-dialog",{attrs:{value:t.dialog,persistent:"",width:"50em"}},[r("v-card",[r("v-card-title",{staticClass:"headline grey lighten-4"},[r("v-icon",{staticClass:"mr-2"},[t._v("mdi-plus")]),r("span",[t._v("添加種子")])],1),r("v-card-text",[r("v-form",{ref:"form",model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[r("v-container",t._b({attrs:{"pa-0":""}},"v-container",(e={},e["grid-list-"+t.$vuetify.breakpoint.name]=!0,e),!1),[r("v-layout",{attrs:{wrap:""}},[r("v-flex",{ref:"fileZone",attrs:{xs12:""}},[r("div",{directives:[{name:"show",rawName:"v-show",value:t.files.length,expression:"files.length"}],staticClass:"files grey lighten-4 align-center justify-space-between subheading font-weight-medium pl-2",on:{click:t.selectFiles}},[r("input",{ref:"file",staticClass:"d-none",attrs:{type:"file",multiple:""},on:{change:t.onFilesChanged}}),1==t.files.length?r("span",[t._v("已選擇文件: "+t._s(t.files[0].name))]):r("span",[t._v("選擇了 "+t._s(t.files.length)+" 個文件.")]),r("v-btn",{attrs:{icon:""},on:{click:function(e){e.stopPropagation(),t.files=[]}}},[r("v-icon",[t._v("mdi-close")])],1)],1),r("v-textarea",{directives:[{name:"show",rawName:"v-show",value:!t.files.length,expression:"!files.length"}],attrs:{label:"連結",hint:"一行一個連結",placeholder:"將種子拖放到此,或者選擇種子.","prepend-icon":"mdi-link","append-outer-icon":"mdi-attachment",rules:[function(e){return!!t.files.length||!!e||"連結為必填項"}],rows:t.$vuetify.breakpoint.xsOnly?1:3,required:"",autofocus:"",value:t.params.urls},on:{input:function(e){return t.setParams("urls",e)},"click:append-outer":t.selectFiles}})],1),r("v-flex",{attrs:{xs12:""}},[r("v-combobox",{attrs:{"prepend-icon":"mdi-folder",value:t.params.savepath,items:t.allSavePaths,label:"下載路徑"},on:{input:function(e){return t.setParams("savepath",e)}}})],1),r("v-flex",{attrs:{xs12:""}},[r("v-combobox",{attrs:{label:"分類","prepend-icon":"mdi-folder",clearable:"","hide-no-data":"",items:t.categories,"input-value":t.params.category},on:{input:function(e){return t.setParams("category",e)}}})],1),r("v-flex",[r("v-checkbox",{attrs:{label:"開始下載","prepend-icon":"mdi-play-pause"},model:{value:t.autoStart,callback:function(e){t.autoStart=e},expression:"autoStart"}})],1),r("v-flex",[r("v-checkbox",{attrs:{label:"自動管理","input-value":!!t.params.autoTMM,"prepend-icon":"mdi-brightness-auto"},on:{change:function(e){return t.setParams("autoTMM",e)}}})],1),r("v-flex",[r("v-checkbox",{attrs:{"prepend-icon":"mdi-progress-check",label:"跳過hash檢查","input-value":!!t.params.skip_checking},on:{change:function(e){return t.setParams("skip_checking",e)}}})],1),r("v-flex",[r("v-checkbox",{attrs:{"prepend-icon":"mdi-folder",label:"建立文件夹",value:!!t.params.root_folder},on:{change:function(e){return t.setParams("root_folder",e)}}})],1)],1)],1)],1),r("v-alert",{attrs:{type:"warning",value:t.error},domProps:{textContent:t._s(t.error)}})],1),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{flat:""},on:{click:t.close}},[t._v("取消")]),r("v-btn",{attrs:{flat:"",color:"primary",disabled:!t.valid,loading:t.submitting},on:{click:t.submit}},[t._v("\n                    添加\n                ")])],1)],1)],1)],1)},de=[];function pe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function fe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pe(n,!0).forEach(function(t){Object(c["a"])(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pe(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var ve={urls:null,category:null,paused:!1,autoTMM:!1,skip_checking:!1,root_folder:!1,savepath:""},me=r["default"].extend({props:{url:String},data:function(){return{valid:!1,files:[],userParams:{},error:null,submitting:!1}},computed:fe({},Object(d["e"])({dialog:function(e){return f.a.get(e,"dialogs.add.open")},initParams:function(e){return f.a.get(e,"dialogs.add.params",{})},prefs:function(e){return e.preferences}}),{},Object(d["e"])("category",{categories:function(e,t){return t.allCategories.map(function(e){return e.key})}}),{},Object(d["c"])(["allSavePaths"]),{params:function(){var e={paused:this.prefs.start_paused_enabled,savepath:this.prefs.save_path,root_folder:!!this.prefs.create_subfolder_enabled};return Object.assign({},ve,e,this.initParams,this.userParams)},autoStart:{get:function(){return!this.params.paused},set:function(e){var t=!e,n=ve.paused===t?null:t;this.setParams("paused",n)}}}),mounted:function(){this.userParams=this.initParams,this.$refs.fileZone.addEventListener("drop",this.onDrop,!0)},beforeDestroy:function(){this.$refs.fileZone.removeEventListener("drop",this.onDrop,!0)},methods:{open:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.$store.commit("dialogAction",{key:"add",value:!0,params:e})},close:function(){this.userParams={},this.files=[],this.$store.commit("dialogAction",{key:"add",value:!1})},setParams:function(e,t){f.a.isNil(t)?r["default"].delete(this.userParams,e):r["default"].set(this.userParams,e,t)},submit:function(){var e=Object(u["a"])(regeneratorRuntime.mark(function e(){var t,n,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!this.submitting){e.next=2;break}return e.abrupt("return");case 2:return t=this.params,this.submitting=!0,this.error=null,this.files.length?(n=this.files,r["default"].delete(t,"urls")):n=null,e.prev=6,e.next=9,U.addTorrents(t,n);case 9:a=e.sent,"Ok."!==a&&(this.error=a),e.next=16;break;case 13:e.prev=13,e.t0=e["catch"](6),this.error=e.t0.message;case 16:if(this.submitting=!1,!this.error){e.next=19;break}return e.abrupt("return");case 19:this.close(),this.$refs.form.resetValidation();case 21:case"end":return e.stop()}},e,this,[[6,13]])}));function t(){return e.apply(this,arguments)}return t}(),selectFiles:function(){this.$refs.file.click()},onFilesChanged:function(){this.files=this.$refs.file.files},onDrop:function(e){var t=e.dataTransfer,n=t.files;n.length&&(e.preventDefault(),this.files=n)}},watch:{url:function(e){e&&(this.dialog||this.open({urls:e}),this.$emit("input",null))},files:function(e){this.$refs.form.validate()}}}),he=me,_e=(n("93d2"),n("2877")),be=n("6544"),ge=n.n(be),xe=n("0798"),ye=n("8336"),ke=n("b0af"),we=n("99d9"),Oe=n("12b2"),je=n("ac7c"),Pe=n("2b5d"),Te=n("a523"),Ce=n("169a"),De=n("0e8f"),Se=n("4bd4"),Re=n("132d"),Ve=n("a722"),$e=n("9910"),Ae=n("a844"),Le=Object(_e["a"])(he,ue,de,!1,null,"cd94b4bc",null),Ie=Le.exports;ge()(Le,{VAlert:xe["a"],VBtn:ye["a"],VCard:ke["a"],VCardActions:we["a"],VCardText:we["b"],VCardTitle:Oe["a"],VCheckbox:je["a"],VCombobox:Pe["a"],VContainer:Te["a"],VDialog:Ce["a"],VFlex:De["a"],VForm:Se["a"],VIcon:Re["a"],VLayout:Ve["a"],VSpacer:$e["a"],VTextarea:Ae["a"]});var Ee=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-list",{attrs:{dense:"",expand:""}},[e._l(e.items,function(t){return[t.children?n("v-list-group",{key:t.text,attrs:{"prepend-icon":t.model?t.icon:t["icon-alt"],"append-icon":""},scopedSlots:e._u([{key:"activator",fn:function(){return[n("v-list-tile",[n("v-list-tile-content",[n("v-list-tile-title",[e._v(e._s(t.text))])],1)],1)]},proxy:!0}],null,!0),model:{value:t.model,callback:function(n){e.$set(t,"model",n)},expression:"item.model"}},e._l(t.children,function(r,a){return n("v-list-tile",{key:a,on:{click:function(e){t.click&&t.click(r.value)}}},[r.icon?n("v-list-tile-action",[n("v-icon",[e._v(e._s(r.icon))])],1):e._e(),n("v-list-tile-content",[n("v-list-tile-title",[e._v(e._s(r.text))])],1)],1)}),1):t.filterGroups?e._l(t.filterGroups,function(e,t){return n("filter-group",{key:t,attrs:{group:e}})}):n("v-list-tile",{key:t.text,on:{click:function(e){t.click&&t.click()}}},[n("v-list-tile-action",[n("v-icon",[e._v(e._s(t.icon))])],1),n("v-list-tile-content",[n("v-list-tile-title",[e._v(e._s(t.text))])],1)],1)]})],2)},Be=[],Fe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-list-group",{staticClass:"filter-group",attrs:{"prepend-icon":e.model?e.group.icon:e.group["icon-alt"]},scopedSlots:e._u([{key:"activator",fn:function(){return[n("v-list-tile",[n("v-list-tile-content",[n("v-list-tile-title",{directives:[{name:"class",rawName:"v-class:primary--text",value:null!==e.selected,expression:"selected !== null",arg:"primary--text"}]},[e._v("\n          "+e._s(e.group.title)+"\n        ")])],1)],1)]},proxy:!0}]),model:{value:e.model,callback:function(t){e.model=t},expression:"model"}},e._l(e.group.children,function(t,r){return n("v-list-tile",{directives:[{name:"class",rawName:"v-class:primary--text",value:e.selected===t.key,expression:"selected === child.key",arg:"primary--text"}],key:r,on:{click:function(n){return n.stopPropagation(),e.select(t.key)}}},[n("v-list-tile-action",[e.isFontIcon(t.icon)?n("v-icon",[e._v(e._s(t.icon))]):n("div",[n("v-img",{attrs:{src:t.icon,width:"22px",height:"22px"}})],1)],1),n("v-list-tile-content",[n("v-list-tile-title",[t.append?[n("v-layout",[e._v("\n            "+e._s(t.title)+"\n            "),n("v-spacer"),e._v("\n            "+e._s(t.append)+"\n          ")],1)]:[e._v("\n          "+e._s(t.title)+"\n        ")]],2)],1),e.group.action?n("v-list-tile-action",[n("v-menu",{attrs:{bottom:"",left:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[n("v-btn",{attrs:{icon:""},on:{click:function(e){return e.stopPropagation(),r.click(e)}}},[n("v-icon",[e._v("mdi-dots-vertical")])],1)]}}],null,!0)},[n("v-list",e._l(e.group.action,function(r,a){return r.show(t)?n("v-list-tile",{key:a,on:{click:function(e){return r.action(t)}}},[n("v-list-tile-title",[e._v(e._s(r.title))])],1):e._e()}),1)],1)],1):e._e()],1)}),1)},Ue=[];function Ne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ze(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ne(n,!0).forEach(function(t){Object(c["a"])(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ne(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var Me=r["default"].extend({props:{group:Object},data:function(){return{model:this.group.model,selected:null}},created:function(){this.selected=this.$store.getters.config.filter[this.group.select]},methods:ze({},Object(d["d"])(["updateConfig"]),{select:function(e){this.selected=this.selected===e?null:e,this.updateConfig({key:"filter",value:Object(c["a"])({},this.group.select,this.selected)})},isFontIcon:function(e){return e.startsWith("mdi-")}})}),qe=Me,Ge=(n("4c36"),n("adda")),He=n("8860"),We=n("56b0"),Ye=n("ba95"),Je=n("40fe"),Ke=n("5d23"),Ze=n("e449"),Xe=Object(_e["a"])(qe,Fe,Ue,!1,null,"15b0d7b6",null),Qe=Xe.exports;function et(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function tt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?et(n,!0).forEach(function(t){Object(c["a"])(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):et(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}ge()(Xe,{VBtn:ye["a"],VIcon:Re["a"],VImg:Ge["a"],VLayout:Ve["a"],VList:He["a"],VListGroup:We["a"],VListTile:Ye["a"],VListTileAction:Je["a"],VListTileContent:Ke["a"],VListTileTitle:Ke["c"],VMenu:Ze["a"],VSpacer:$e["a"]});var nt=[{title:"下載中",state:l.Downloading,icon:"download"},{title:"做種中",state:l.Seeding,icon:"upload"},{title:"已完成",state:l.Completed,icon:"check"},{title:"已恢複",state:l.Resumed,icon:"play"},{title:"已暫停",state:l.Paused,icon:"pause"},{title:"活動中",state:l.Active,icon:"filter"},{title:"非活動",state:l.Inactive,icon:"filter-outline"},{title:"錯誤",state:l.Errored,icon:"alert"}],rt={components:{FilterGroup:Qe},props:{value:Object},data:function(){return{basicItems:null,endItems:null}},created:function(){var e=this;this.endItems=[{icon:"mdi-settings",text:"設置",click:function(){return e.updateOptions("showSetting",!0)}},{icon:"mdi-delta",text:"日誌",click:function(){return e.updateOptions("showLogs",!0)}},{icon:"mdi-rss",text:"RSS",click:function(){return e.updateOptions("showRss",!0)}},{icon:"mdi-history",text:"切換至原生UI",click:this.switchUi}]},computed:tt({},Object(d["c"])(["isDataReady","allTorrents","torrentGroupBySite","torrentGroupByState"]),{},Object(d["c"])("tag",["torrentGroupByTag","allTags"]),{},Object(d["c"])("category",["allCategories","torrentGroupByCategory"]),{items:function(){var e=this;if(!this.isDataReady)return this.endItems;var t=[],n=ae(f.a.sumBy(this.allTorrents,"size")),r=nt.map(function(t){var n=e.torrentGroupByState[t.state];f.a.isUndefined(n)&&(n=[]);var r=ae(f.a.sumBy(n,"size")),a=t.title+" (".concat(n.length,")"),i="[".concat(r,"]");return{icon:"mdi-"+t.icon,title:a,key:t.state,append:i}});t.push({icon:"mdi-menu-up","icon-alt":"mdi-menu-down",title:"狀態",model:!0,select:"state",children:[{icon:"mdi-filter-remove",title:"所有 (".concat(this.allTorrents.length,")"),key:null,append:"[".concat(n,"]")}].concat(Object(b["a"])(r))});var a=[{key:"",name:"未分類"}].concat(this.allCategories).map(function(t){var n=e.torrentGroupByCategory[t.key];f.a.isUndefined(n)&&(n=[]);var r=ae(f.a.sumBy(n,"size")),a=t.name+" (".concat(n.length,")"),i="[".concat(r,"]");return{icon:"mdi-folder-open",title:a,key:t.key,savePath:t.savePath,append:i}});t.push({icon:"mdi-menu-up","icon-alt":"mdi-menu-down",title:"分類",model:!this.$vuetify.breakpoint.xsOnly,select:"category",action:[{title:"添加分類",show:function(){return!0},action:function(){var t=Object(u["a"])(regeneratorRuntime.mark(function t(n){var r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$dialog.form({title:"添加分類",forms:[{key:"name",name:"分類名稱"},{key:"path",name:"儲存路徑"}]});case 2:r=t.sent,r&&e.$store.dispatch("category/createCategory",r);case 4:case"end":return t.stop()}},t)}));function n(e){return t.apply(this,arguments)}return n}()},{title:"編輯分類",show:function(e){var t=e.key;return!!t},action:function(){var t=Object(u["a"])(regeneratorRuntime.mark(function t(n){var r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$dialog.prompt({text:"請輸入分類 ".concat(n.key," 儲存地址"),title:"編輯分類",value:n.savePath});case 2:r=t.sent,r&&e.$store.dispatch("category/editCategory",{name:n.key,path:r});case 4:case"end":return t.stop()}},t)}));function n(e){return t.apply(this,arguments)}return n}()},{title:"刪除分類",show:function(e){var t=e.key;return!!t},action:function(t){e.$dialog.confirm({text:"确定刪除 ".concat(t.key," ?"),title:"刪除分類",actions:{false:"取消",true:{color:"red",text:"确定",handle:function(){e.$store.dispatch("category/removeCategories",{name:t.key})}}}})}}],children:a});var i=f.a.map([""].concat(Object(b["a"])(this.allTags)),function(t){var n=e.torrentGroupByTag[t];f.a.isUndefined(n)&&(n=[]);var r=ae(f.a.sumBy(n,"size")),a="".concat(t||"無標籤"," (").concat(n.length,")"),i="[".concat(r,"]");return{icon:"mdi-tag",title:a,key:t,append:i}});t.push({icon:"mdi-menu-up","icon-alt":"mdi-menu-down",title:"標籤",model:!this.$vuetify.breakpoint.xsOnly,select:"tag",action:[{title:"添加標籤",show:function(e){var t=e.key;return!t},action:function(){var t=Object(u["a"])(regeneratorRuntime.mark(function t(n){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:e.$dialog.form({title:"添加標籤",forms:[{key:"tags",name:"標籤名稱"}]}).then(function(t){t&&e.$store.dispatch("tag/createTags",res)});case 1:case"end":return t.stop()}},t)}));function n(e){return t.apply(this,arguments)}return n}()},{title:"刪除標籤",show:function(e){var t=e.key;return!!t},action:function(t){e.$dialog.confirm({text:"确定刪除 ".concat(t.key," ?"),title:"刪除標籤"}).then(function(n){n&&e.$store.dispatch("tag/deleteTags",{tags:[t.key]})})}}],children:[{icon:"mdi-tag",title:"所有 (".concat(this.allTorrents.length,")"),key:null,append:"[".concat(n,"]")}].concat(Object(b["a"])(i))});var o=f.a.sortBy(Object.entries(this.torrentGroupBySite).map(function(e){var t=Object(V["a"])(e,2),n=t[0],r=t[1],a=ae(f.a.sumBy(r,"size")),i=m[n],o=(i?i.name:n||"Others")+" (".concat(r.length,")"),s=f.a.defaultTo(i?i.icon:null,"mdi-server"),l="[".concat(a,"]");return{icon:s,title:o,key:n,append:l}}),"title");return t.push({icon:"mdi-menu-up","icon-alt":"mdi-menu-down",title:"站點",model:!1,select:"site",children:o}),f.a.concat([{filterGroups:t}],this.endItems)}}),methods:{switchUi:function(){var e=Object(u["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,U.switchToOldUi();case 2:location.reload(!0);case 3:case"end":return e.stop()}},e)}));function t(){return e.apply(this,arguments)}return t}(),updateOptions:function(e,t){this.$emit("input",Object.assign({},this.value,Object(c["a"])({},e,t)))}}},at=rt,it=(n("6355"),Object(_e["a"])(at,Ee,Be,!1,null,"4f39fccf",null)),ot=it.exports;ge()(it,{VIcon:Re["a"],VList:He["a"],VListGroup:We["a"],VListTile:Ye["a"],VListTileAction:Je["a"],VListTileContent:Ke["a"],VListTileTitle:Ke["c"]});var st=function(){var e,t=this,n=t.$createElement,r=t._self._c||n;return r("v-dialog",{attrs:{persistent:"",width:"25em"},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}},[r("v-card",[r("v-toolbar",{attrs:{dark:"",color:"primary"}},[r("v-toolbar-title",[t._v("登入")])],1),r("v-card-text",[r("v-form",{ref:"form",model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[r("v-container",t._b({attrs:{"pa-0":""},on:{"!keyup":function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.submit(e)}}},"v-container",(e={},e["grid-list-"+t.$vuetify.breakpoint.name]=!0,e),!1),[r("v-layout",{attrs:{wrap:""}},[r("v-flex",[r("v-text-field",{attrs:{"prepend-icon":"mdi-account",label:"用戶名",rules:[function(e){return!!e||"用戶名必填"}],autofocus:"",required:""},model:{value:t.params.username,callback:function(e){t.$set(t.params,"username",e)},expression:"params.username"}}),r("v-text-field",{attrs:{"prepend-icon":"mdi-lock","append-icon":t.showPassword?"mdi-eye":"mdi-eye-off",label:"密碼",type:t.showPassword?"text":"password",rules:[function(e){return!!e||"密碼必填"}],required:""},on:{"click:append":function(e){t.showPassword=!t.showPassword}},model:{value:t.params.password,callback:function(e){t.$set(t.params,"password",e)},expression:"params.password"}})],1)],1)],1)],1),r("v-alert",{attrs:{type:"warning",value:t.loginError},domProps:{textContent:t._s(t.loginError)}})],1),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{color:"primary",disabled:!t.valid||t.submitting,loading:t.submitting},on:{click:t.submit}},[t._v("\n        登入\n      ")])],1)],1)],1)},lt=[],ct=r["default"].extend({props:{value:Boolean},data:function(){return{valid:!1,submitting:!1,showPassword:!1,loginError:null,params:{username:null,password:null}}},methods:{submit:function(){var e=Object(u["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!this.submitting){e.next=2;break}return e.abrupt("return");case 2:if(this.$refs.form.validate()){e.next=4;break}return e.abrupt("return");case 4:return this.submitting=!0,e.prev=5,e.next=8,U.login(this.params);case 8:if(t=e.sent,"Ok."!==t){e.next=12;break}return this.$emit("input",!1),e.abrupt("return");case 12:this.loginError=t,e.next=18;break;case 15:e.prev=15,e.t0=e["catch"](5),this.loginError=e.t0.message;case 18:this.submitting=!1;case 19:case"end":return e.stop()}},e,this,[[5,15]])}));function t(){return e.apply(this,arguments)}return t}()}}),ut=ct,dt=n("2677"),pt=n("71d9"),ft=n("2a7f"),vt=Object(_e["a"])(ut,st,lt,!1,null,null,null),mt=vt.exports;ge()(vt,{VAlert:xe["a"],VBtn:ye["a"],VCard:ke["a"],VCardActions:we["a"],VCardText:we["b"],VContainer:Te["a"],VDialog:Ce["a"],VFlex:De["a"],VForm:Se["a"],VLayout:Ve["a"],VSpacer:$e["a"],VTextField:dt["a"],VToolbar:pt["a"],VToolbarTitle:ft["a"]});var ht=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",{directives:[{name:"class",rawName:"v-class:phone-layout",value:e.$vuetify.breakpoint.xsOnly,expression:"$vuetify.breakpoint.xsOnly",arg:"phone-layout"}],attrs:{fluid:""}},[n("v-layout",{directives:[{name:"show",rawName:"v-show",value:e.hasSelected,expression:"hasSelected"}],staticClass:"toolbar",attrs:{column:""}},[n("v-toolbar",{attrs:{flat:"",dense:"",color:"white",height:"56px"}},[n("v-checkbox",{staticClass:"shrink menu-check",attrs:{"input-value":e.hasSelected,indeterminate:!e.hasSelectedAll,primary:"","hide-details":""},on:{click:function(t){t.stopPropagation(),e.selectedRows=[]}}}),n("v-btn",{attrs:{icon:"",title:"刪除"},on:{click:e.confirmDelete}},[n("v-icon",[e._v("mdi-delete")])],1),n("v-divider",{attrs:{vertical:"",inset:""}}),n("v-btn",{attrs:{icon:"",title:"恢複"},on:{click:e.resumeTorrents}},[n("v-icon",[e._v("mdi-play")])],1),n("v-btn",{attrs:{icon:"",title:"暫停"},on:{click:e.pauseTorrents}},[n("v-icon",[e._v("mdi-pause")])],1),n("v-divider",{attrs:{vertical:"",inset:""}}),e.selectedRows.length<=4?n("v-btn",{attrs:{icon:"",title:"信息"},on:{click:function(t){return e.showInfo()}}},[n("v-icon",[e._v("mdi-alert-circle")])],1):e._e(),n("v-menu",{attrs:{"offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[n("v-btn",e._g({attrs:{icon:"",title:"分類"}},r),[n("v-icon",[e._v("mdi-folder-open")])],1)]}}])},[n("v-list",{staticClass:"category-actions"},[n("v-subheader",{on:{click:function(e){e.stopPropagation()}}},[e._v("設置分類")]),e._l(e.allCategories,function(t,r){return n("v-list-tile",{key:r,on:{click:function(n){return e.setTorrentsCategory(t.key)}}},[n("v-list-tile-action",[n("v-icon",[e._v("mdi-folder-open")])],1),n("v-list-tile-content",[n("v-list-tile-title",[e._v(e._s(t.name))])],1)],1)}),n("v-divider"),n("v-list-tile",{on:{click:function(t){return e.setTorrentsCategory("")}}},[n("v-list-tile-action",[n("v-icon",[e._v("mdi-folder-remove")])],1),n("v-list-tile-content",[n("v-list-tile-title",[e._v("重置")])],1)],1)],2)],1),n("v-menu",{attrs:{"offset-y":"","max-height":500},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[n("v-btn",e._g({attrs:{icon:"",title:"標籤"}},r),[n("v-icon",[e._v("mdi-tag")])],1)]}}])},[n("v-list",{staticClass:"tag-actions"},[n("v-subheader",{on:{click:function(t){return t.stopPropagation(),e.addTorrentsTag(t)}}},[n("v-btn",{attrs:{flat:""}},[e._v("新增標籤")])],1),n("v-divider"),e._l(e.allTags,function(t,r){return n("v-list-tile",{key:r,on:{click:function(n){return e.setTorrentsTag(t)}}},[n("v-list-tile-action",[n("v-icon",[e._v("mdi-folder-open")])],1),n("v-list-tile-content",[n("v-list-tile-title",[e._v(e._s(t))])],1)],1)}),n("v-divider"),n("v-list-tile",{on:{click:function(t){return e.removeTorrentsTag()}}},[n("v-list-tile-action",[n("v-icon",[e._v("mdi-folder-remove")])],1),n("v-list-tile-content",[n("v-list-tile-title",[e._v("重置")])],1)],1)],2)],1),n("v-menu",{attrs:{"offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[n("v-btn",e._g({attrs:{icon:"",title:"設置自動管理"}},r),[n("v-icon",[e._v("mdi-brightness-auto")])],1)]}}])},[n("v-list",{staticClass:"auto-actions"},[n("v-subheader",{on:{click:function(e){e.stopPropagation()}}},[e._v("設置自動管理")]),e._l([!0,!1],function(t,r){return n("v-list-tile",{key:r,on:{click:function(n){return e.setTorrentsAutomatic(t)}}},[n("v-list-tile-action",[n("v-icon",[e._v("mdi-"+e._s(t?"check":"window-close"))])],1),n("v-list-tile-content",[n("v-list-tile-title",[e._v(e._s(t?"開啟":"關閉"))])],1)],1)})],2)],1),n("v-divider",{attrs:{vertical:"",inset:""}}),n("v-btn",{attrs:{icon:"",title:"修改儲存路徑"},on:{click:e.setLocation}},[n("v-icon",[e._v("mdi-folder-edit-outline")])],1),n("v-btn",{attrs:{icon:"",title:"批量修改tracker"},on:{click:e.editTrackers}},[n("v-icon",[e._v("mdi-server")])],1),n("v-divider",{attrs:{vertical:"",inset:""}}),n("v-btn",{attrs:{icon:"",title:"強制更新tracker"},on:{click:e.reannounceTorrents}},[n("v-icon",[e._v("mdi-bullhorn")])],1),n("v-btn",{attrs:{icon:"",title:"強制檢查hash"},on:{click:e.recheckTorrents}},[n("v-icon",[e._v("mdi-backup-restore")])],1)],1),n("v-divider")],1),n("v-layout",{attrs:{column:""}},[n("v-data-table",{directives:[{name:"class",rawName:"v-class:hide-headers",value:e.hasSelected,expression:"hasSelected",arg:"hide-headers"}],staticClass:"table",attrs:{headers:e.headers,items:e.torrents,"item-key":"hash","hide-actions":e.torrents.length<=e.pagination.rowsPerPage,"select-all":"",pagination:e.pagination},on:{"update:pagination":function(t){e.pagination=t}},scopedSlots:e._u([{key:"items",fn:function(t){return[n("td",[n("v-checkbox",{attrs:{"hide-details":""},model:{value:t.selected,callback:function(n){e.$set(t,"selected",n)},expression:"row.selected"}})],1),n("td",{class:["icon-label",{auto_tmm:t.item.auto_tmm}],attrs:{title:t.item.name},on:{dblclick:function(n){return n.preventDefault(),e.showInfo(t.item)}}},[n("v-icon",{attrs:{color:e._f("stateColor")(t.item.state)}},[e._v(e._s(e._f("stateIcon")(t.item.state)))]),e._v("\n                    "+e._s(t.item.name)+"\n                ")],1),n("td",[e._v(e._s(e._f("formatSize")(t.item.size)))]),n("td",[e._v("\n                    "+e._s(e._f("progress")(t.item.progress))+"\n                ")]),n("td",[e._v(e._s(e._f("torrentStatus")(t.item.state)))]),n("td",[e._v(e._s(t.item.num_seeds)+"/"+e._s(t.item.num_complete))]),n("td",[e._v(e._s(t.item.num_leechs)+"/"+e._s(t.item.num_incomplete))]),n("td",[e._v(e._s(e._f("formatNetworkSpeed")(t.item.dlspeed)))]),n("td",[e._v(e._s(e._f("formatNetworkSpeed")(t.item.upspeed)))]),n("td",[e._v(e._s(e._f("formatSize")(t.item.uploaded)))]),n("td",[e._v(e._s(t.item.category))]),n("td",[e._v(e._s(e._f("formatDuration")(t.item.eta,{dayLimit:100})))]),n("td",[e._v(e._s(t.item.ratio.toFixed(2)))]),n("td",[n("span",{attrs:{title:e._f("formatTimestamp")(t.item.added_on)}},[e._v(e._s(e._f("formatTimestamp")(t.item.added_on)))])]),n("td",[n("span",{attrs:{title:e._f("formatTimestamp")(t.item.completion_on)}},[e._v(e._s(e._f("formatTimestamp")(t.item.completion_on)))])])]}}]),model:{value:e.selectedRows,callback:function(t){e.selectedRows=t},expression:"selectedRows"}})],1),e.toDelete.length?n("confirm-delete-dialog",{model:{value:e.toDelete,callback:function(t){e.toDelete=t},expression:"toDelete"}}):e._e(),e.toShowInfo.length?n("info-dialog",{attrs:{tab:e.infoTab},on:{change:function(t){e.infoTab=t}},model:{value:e.toShowInfo,callback:function(t){e.toShowInfo=t},expression:"toShowInfo"}}):e._e()],1)},_t=[],bt=(n("a481"),n("3b2b"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-dialog",{attrs:{value:!0,fullscreen:e.phoneLayout,width:"40em"},on:{input:e.closeDialog}},[n("v-card",[n("v-card-title",{staticClass:"headline grey lighten-4"},[n("v-icon",{staticClass:"mr-2"},[e._v("mdi-delete")]),n("span",[e._v("刪除")])],1),n("v-card-text",[e._v("\n       確認刪除選中的任務？\n      "),n("ol",{staticClass:"torrents pt-4"},e._l(e.torrents,function(t,r){return n("li",{key:r},[e._v("\n          "+e._s(t.name)+"\n        ")])}),0),n("v-checkbox",{attrs:{"prepend-icon":"mdi-file-cancel",label:"同時刪除文件"},model:{value:e.deleteFiles,callback:function(t){e.deleteFiles=t},expression:"deleteFiles"}})],1),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{flat:""},on:{click:e.closeDialog}},[e._v("取消")]),n("v-btn",{attrs:{color:"warning",disabled:e.submitting,loading:e.submitting},on:{click:e.submit}},[e._v("\n        刪除\n      ")])],1)],1)],1)}),gt=[],xt=r["default"].extend({props:{value:Array},data:function(){return{deleteFiles:!0,submitting:!1,torrents:[]}},created:function(){this.torrents=this.value},computed:{phoneLayout:function(){return this.$vuetify.breakpoint.xsOnly}},methods:{closeDialog:function(){this.$emit("input",[])},submit:function(){var e=Object(u["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!this.submitting){e.next=2;break}return e.abrupt("return");case 2:return this.submitting=!0,t=this.torrents.map(function(e){return e.hash}),e.next=6,U.deleteTorrents(t,this.deleteFiles);case 6:this.closeDialog();case 7:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()}}),yt=xt,kt=(n("ef3f"),Object(_e["a"])(yt,bt,gt,!1,null,"9fc1981c",null)),wt=kt.exports;ge()(kt,{VBtn:ye["a"],VCard:ke["a"],VCardActions:we["a"],VCardText:we["b"],VCardTitle:Oe["a"],VCheckbox:je["a"],VDialog:Ce["a"],VIcon:Re["a"],VSpacer:$e["a"]});var Ot=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-dialog",{attrs:{value:!0,width:e.dialogWidth,fullscreen:e.phoneLayout},on:{input:e.closeDialog}},[n("v-card",[n("v-card-title",{staticClass:"headline grey lighten-4"},[n("v-icon",{staticClass:"mr-2"},[e._v("mdi-alert-circle")]),n("span",[e._v("信息")])],1),n("v-card-text",[n("v-tabs",{model:{value:e.mTab,callback:function(t){e.mTab=t},expression:"mTab"}},[n("v-tab",{attrs:{href:"#info"}},[e._v("\n          種子信息\n        ")]),n("v-tab",{attrs:{href:"#trackers"}},[e._v("\n          Trackers\n        ")]),n("v-tab",{attrs:{href:"#peers"}},[e._v("\n          節點\n        ")])],1),n("v-tabs-items",{attrs:{value:e.mTab,touchless:""}},[n("v-tab-item",{attrs:{value:"info"}},e._l(e.torrents,function(t){return n("panel",{key:t.hash,attrs:{title:t.name,single:1===e.torrents.length}},[n("Torrent",{attrs:{torrent:t}})],1)}),1),n("v-tab-item",{attrs:{value:"trackers"}},e._l(e.torrents,function(t){return n("panel",{key:t.hash,attrs:{title:t.name,single:1===e.torrents.length}},[n("trackers",{attrs:{hash:t.hash,isActive:"trackers"===e.mTab}})],1)}),1),n("v-tab-item",{attrs:{value:"peers"}},e._l(e.torrents,function(t){return n("panel",{key:t.hash,attrs:{title:t.name,single:1===e.torrents.length}},[n("peers",{attrs:{hash:t.hash,isActive:"peers"===e.mTab}})],1)}),1)],1)],1),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{flat:""},on:{click:e.closeDialog}},[e._v("關閉")])],1)],1)],1)},jt=[],Pt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-data-table",{attrs:{headers:e.headers,items:e.trackers,"hide-actions":!0},scopedSlots:e._u([{key:"items",fn:function(t){return[n("td",[e._v(e._s(t.item.tier))]),n("td",[e._v(e._s(t.item.url))]),n("td",[e._v(e._s(e._f("formatTrackerStatus")(t.item.status)))]),n("td",[e._v(e._s(e._f("formatTrackerNum")(t.item.num_peers)))]),n("td",[e._v(e._s(e._f("formatTrackerNum")(t.item.num_seeds)))]),n("td",[e._v(e._s(e._f("formatTrackerNum")(t.item.num_leeches)))]),n("td",[e._v(e._s(e._f("formatTrackerNum")(t.item.num_downloaded)))]),n("td",[e._v(e._s(t.item.msg))])]}}])})},Tt=[],Ct=r["default"].extend({data:function(){return{destory:!1,task:0}},methods:{cancelTask:function(){this.task&&(clearTimeout(this.task),this.task=0)}},beforeDestroy:function(){this.destory=!0,this.cancelTask()}}),Dt=r["default"].extend({mixins:[Ct],props:{hash:String,isActive:Boolean},data:function(){var e=[{text:"#",value:"tier"},{text:"URL",value:"url"},{text:"狀態",value:"status"},{text:"節點數",value:"num_peers"},{text:"做種",value:"num_seeds"},{text:"吸血者",value:"num_leeches"},{text:"已下載",value:"num_downloaded"},{text:"信息",value:"msg"}];return{headers:e,trackers:[]}},filters:{formatTrackerStatus:function(e){var t=["已關閉","未連接","工作","更新中","未工作"];return t[e]},formatTrackerNum:function(e){return-1===e?"N/A":e.toString()}},methods:{getTracker:function(){var e=Object(u["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,U.getTorrentTracker(this.hash);case 2:if(this.trackers=e.sent,this.isActive&&!this.destroy){e.next=5;break}return e.abrupt("return");case 5:this.task=setTimeout(this.getTracker,5e3);case 6:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},created:function(){var e=Object(u["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!this.isActive){e.next=3;break}return e.next=3,this.getTracker();case 3:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),watch:{isActive:function(){var e=Object(u["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!t){e.next=5;break}return e.next=3,this.getTracker();case 3:e.next=6;break;case 5:this.cancelTask();case 6:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()}}),St=Dt,Rt=n("8fea"),Vt=Object(_e["a"])(St,Pt,Tt,!1,null,null,null),$t=Vt.exports;ge()(Vt,{VDataTable:Rt["a"]});var At=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-layout",{staticClass:"torrentInfo",attrs:{row:"",wrap:""}},[n("v-flex",{staticClass:"item",attrs:{xs12:""}},[n("label",{attrs:{for:""}},[e._v("名稱")]),n("span",[e._v(e._s(e.torrent.name))])]),n("v-flex",{staticClass:"item",attrs:{xs12:""}},[n("label",{attrs:{for:""}},[e._v("儲存地址")]),n("span",[e._v(e._s(e.torrent.save_path))])]),n("v-flex",{attrs:{xs12:""}},[n("v-subheader",[e._v("傳輸")])],1),n("v-flex",{staticClass:"item",attrs:{xs4:""}},[n("label",{attrs:{for:""}},[e._v("分類")]),n("span",[e._v(e._s(e.torrent.category))])]),n("v-flex",{staticClass:"item",attrs:{xs4:""}},[n("label",{attrs:{for:""}},[e._v("狀態")]),n("span",[e._v(e._s(e._f("torrentStatus")(e.torrent.state)))])]),n("v-flex",{staticClass:"item",attrs:{xs4:""}},[n("label",{attrs:{for:""}},[e._v("總大小")]),n("span",[e._v(e._s(e._f("formatSize")(e.torrent.total_size)))])]),n("v-flex",{staticClass:"item",attrs:{xs4:""}},[n("label",{attrs:{for:""}},[e._v("添加時間")]),n("span",[e._v(e._s(e._f("formatTimestamp")(e.torrent.added_on)))])]),n("v-flex",{staticClass:"item",attrs:{xs4:""}},[n("label",{attrs:{for:""}},[e._v("完成時間")]),n("span",[e._v(e._s(e._f("formatTimestamp")(e.torrent.completion_on)))])]),n("v-flex",{staticClass:"item",attrs:{xs4:""}},[n("label",{attrs:{for:""}},[e._v("剩餘時間")]),n("span",[e._v(e._s(e._f("formatDuration")(e.torrent.eta,{dayLimit:100})))])]),n("v-flex",{staticClass:"item",attrs:{xs4:""}},[n("label",{attrs:{for:""}},[e._v("自動管理")]),n("span",[e._v(e._s(e._f("boolean")(e.torrent.auto_tmm)))])])],1)},Lt=[],It=r["default"].extend({mixins:[Ct],props:{torrent:Object},data:function(){return{}},filters:{},methods:{},created:function(){var e=Object(u["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)}));function t(){return e.apply(this,arguments)}return t}(),watch:{}}),Et=It,Bt=(n("5440"),n("e0c7")),Ft=Object(_e["a"])(Et,At,Lt,!1,null,"e1095dc2",null),Ut=Ft.exports;ge()(Ft,{VFlex:De["a"],VLayout:Ve["a"],VSubheader:Bt["a"]});var Nt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-data-table",{attrs:{headers:e.headers,items:e.peers,"hide-actions":!0},scopedSlots:e._u([{key:"items",fn:function(t){return[n("td",{staticClass:"ip"},[t.item.country_code?[e.isWindows?n("img",{staticClass:"country-flag",attrs:{title:t.item.country,alt:e.codeToFlag(t.item.country_code).char,src:e.codeToFlag(t.item.country_code).url}}):[e._v("\n          "+e._s(e.codeToFlag(t.item.country_code).char)+"\n        ")]]:e._e(),e._v("\n      "+e._s(t.item.ip)+"\n      "),n("span",{staticClass:"grey--text"},[e._v(":"+e._s(t.item.port))])],2),n("td",[e._v(e._s(t.item.connection))]),n("td",{attrs:{title:t.item.flags_desc}},[e._v(e._s(t.item.flags))]),n("td",[e._v(e._s(t.item.client))]),n("td",[e._v(e._s(e._f("progress")(t.item.progress)))]),n("td",[e._v(e._s(e._f("networkSpeed")(t.item.dl_speed)))]),n("td",[e._v(e._s(e._f("networkSize")(t.item.downloaded)))]),n("td",[e._v(e._s(e._f("networkSpeed")(t.item.up_speed)))]),n("td",[e._v(e._s(e._f("networkSize")(t.item.uploaded)))]),n("td",[e._v(e._s(e._f("progress")(t.item.relevance)))]),n("td",[e._v(e._s(t.item.files))])]}}])})},zt=[],Mt=r["default"].extend({mixins:[Ct],props:{hash:String,isActive:Boolean},data:function(){var e=[{text:"IP",value:"ip"},{text:"協議",value:"connection"},{text:"標記",value:"flags"},{text:"客戶端",value:"client"},{text:"進度",value:"progress"},{text:"下載速度",value:"dl_speed"},{text:"已下載",value:"downloaded"},{text:"上傳速度",value:"up_speed"},{text:"已上傳",value:"uploaded"},{text:"相關度",value:"relevance"},{text:"文件",value:"files"}];return{headers:e,peersObj:null,rid:null,isWindows:T}},filters:{networkSpeed:function(e){return 0===e?null:ae(e)+"/s"},networkSize:function(e){return 0===e?null:ae(e)}},computed:{peers:function(){return f.a.map(this.peersObj,function(e,t){return f.a.merge({},e,{key:t})})}},methods:{codeToFlag:function(e){return e?P(e):{}},getPeers:function(){var e=Object(u["a"])(regeneratorRuntime.mark(function e(){var t,n,r,a,i,o,s,l;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,U.getTorrentPeers(this.hash,this.rid);case 2:if(t=e.sent,this.rid=t.rid,!t.full_update){e.next=8;break}this.peersObj=t.peers,e.next=30;break;case 8:if(n=f.a.cloneDeep(this.peersObj),!t.peers_removed){e.next=29;break}for(r=!0,a=!1,i=void 0,e.prev=13,o=t.peers_removed[Symbol.iterator]();!(r=(s=o.next()).done);r=!0)l=s.value,delete n[l];e.next=21;break;case 17:e.prev=17,e.t0=e["catch"](13),a=!0,i=e.t0;case 21:e.prev=21,e.prev=22,r||null==o.return||o.return();case 24:if(e.prev=24,!a){e.next=27;break}throw i;case 27:return e.finish(24);case 28:return e.finish(21);case 29:this.peersObj=f.a.merge(n,t.peers);case 30:if(this.isActive&&!this.destroy){e.next=32;break}return e.abrupt("return");case 32:this.task=setTimeout(this.getPeers,2e3);case 33:case"end":return e.stop()}},e,this,[[13,17,21,29],[22,,24,28]])}));function t(){return e.apply(this,arguments)}return t}()},created:function(){var e=Object(u["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!this.isActive){e.next=3;break}return e.next=3,this.getPeers();case 3:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),watch:{isActive:function(){var e=Object(u["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!t){e.next=5;break}return e.next=3,this.getPeers();case 3:e.next=6;break;case 5:this.cancelTask();case 6:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()}}),qt=Mt,Gt=(n("26ab"),Object(_e["a"])(qt,Nt,zt,!1,null,"14aa026d",null)),Ht=Gt.exports;ge()(Gt,{VDataTable:Rt["a"]});var Wt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.single?n("div",{staticClass:"inner"},[e._t("default")],2):n("fieldset",{staticClass:"panel"},[n("legend",{domProps:{textContent:e._s(e.title)}}),n("div",{staticClass:"inner"},[e._t("default")],2)])},Yt=[],Jt=r["default"].extend({props:{single:Boolean,title:String}}),Kt=Jt,Zt=(n("d81c"),Object(_e["a"])(Kt,Wt,Yt,!1,null,"83fa7a96",null)),Xt=Zt.exports,Qt=r["default"].extend({components:{Torrent:Ut,Trackers:$t,Peers:Ht,Panel:Xt},props:{value:Array,tab:String},data:function(){return{torrents:[],mTab:null}},created:function(){this.torrents=this.value,this.mTab=this.tab},computed:{phoneLayout:function(){return this.$vuetify.breakpoint.xsOnly},dialogWidth:function(){return this.phoneLayout?"100%":"80%"}},methods:{closeDialog:function(){this.$emit("input",[])}},watch:{mTab:function(e){this.$emit("change",e)}}}),en=Qt,tn=(n("dcf2"),n("71a3")),nn=n("c671"),rn=n("fe57"),an=n("aac8"),on=Object(_e["a"])(en,Ot,jt,!1,null,"12c1fd72",null),sn=on.exports;function ln(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function cn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ln(n,!0).forEach(function(t){Object(c["a"])(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ln(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function un(e){var t;switch(e){case"metaDL":case"allocating":case"downloading":case"forcedDL":t={icon:"download",color:"info"};break;case"uploading":case"forcedUP":t={icon:"upload",color:"info"};break;case"stalledDL":t={icon:"download",color:null};break;case"stalledUP":t={icon:"upload",color:null};break;case"pausedDL":t={icon:"pause",color:"warning"};break;case"pausedUP":t={icon:"check",color:null};break;case"queuedDL":case"queuedUP":t={icon:"timer-sand",color:"info"};break;case"checkingDL":case"checkingUP":case"queuedForChecking":case"checkingResumeData":case"moving":t={icon:"backup-restore",color:"info"};break;case"error":case"unknown":case"missingFiles":t={icon:"alert",color:"error"};break;default:throw e}return t}ge()(on,{VBtn:ye["a"],VCard:ke["a"],VCardActions:we["a"],VCardText:we["b"],VCardTitle:Oe["a"],VDialog:Ce["a"],VIcon:Re["a"],VSpacer:$e["a"],VTab:tn["a"],VTabItem:nn["a"],VTabs:rn["a"],VTabsItems:an["a"]});var dn=r["default"].extend({name:"torrents",components:{ConfirmDeleteDialog:wt,InfoDialog:sn},data:function(){var e=[{text:"名稱",value:"name",width:"auto",class:"th-name"},{text:"大小",value:"size",width:"54px"},{text:"進度",value:"progress"},{text:"狀態",value:"state"},{text:"做種",value:"num_complete"},{text:"下載",value:"num_incomplete"},{text:"下載速度",value:"dlspeed"},{text:"上傳速度",value:"upspeed"},{text:"已上傳",value:"uploaded"},{text:"分類",value:"category"},{text:"剩餘時間",value:"eta"},{text:"分享率",value:"ratio"},{text:"添加時間",value:"added_on"},{text:"完成時間",value:"completion_on"}];return{headers:e,selectedRows:[],toDelete:[],toShowInfo:[],infoTab:null,pagination:null}},created:function(){this.pagination=this.$store.getters.config.pagination},computed:cn({},Object(d["c"])(["isDataReady","allTorrents","torrentGroupBySite","torrentGroupByState"]),{},Object(d["c"])("category",["allCategories","torrentGroupByCategory"]),{},Object(d["e"])({prefs:function(e){return e.preferences},filter:function(e,t){return t.config.filter}}),{},Object(d["c"])("tag",["allTags","torrentGroupByTag"]),{hasSelected:function(){return this.selectedRows.length},selectedHashes:function(){return this.selectedRows.map(f.a.property("hash"))},torrents:function(){if(!this.isDataReady)return[];var e=this.allTorrents;return null!==this.filter.site&&(e=f.a.intersection(e,this.torrentGroupBySite[this.filter.site])),null!==this.filter.category&&(e=f.a.intersection(e,this.torrentGroupByCategory[this.filter.category])),null!==this.filter.state&&(e=f.a.intersection(e,this.torrentGroupByState[this.filter.state])),null!==this.filter.tag&&(e=f.a.intersection(e,this.torrentGroupByTag[this.filter.tag])),e},hasSelectedAll:function(){return this.hasSelected&&this.selectedRows.length===Math.min(this.torrents.length,this.pagination.rowsPerPage)}}),filters:{progressColorClass:function(e){var t=e>=.5?"white":"black";return t+"--text"},formatNetworkSpeed:function(e){return 0===e?null:ae(e)+"/s"},stateIcon:function(e){var t=un(e);return"mdi-"+t.icon},stateColor:function(e,t){var n=un(e);return t?n.color||"#0008":n.color}},methods:cn({},Object(d["d"])(["updateConfig"]),{},Object(d["b"])("tag",["addTags","removeTags"]),{confirmDelete:function(){this.toDelete=this.selectedRows},showInfo:function(e){this.toShowInfo=e?[e]:this.selectedRows},resumeTorrents:function(){var e=Object(u["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,U.resumeTorrents(this.selectedHashes);case 2:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),setLocation:function(){var e=Object(u["a"])(regeneratorRuntime.mark(function e(){var t,n=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:t=f.a.get(this.selectedRows,[0,"save_path"],this.prefs.save_path),this.$dialog.prompt({text:"請輸入儲存路徑",title:"修改儲存路徑",value:t}).then(function(e){e&&U.action("torrents/setLocation",{hashes:n.selectedHashes,location:e})});case 2:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),editTrackers:function(){var e=Object(u["a"])(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.$dialog.form({title:"批量修改tracker",forms:[{key:"reg",name:"需要替換的部分(支持正則)"},{key:"to",name:"替換為"}]}).then(function(){var e=Object(u["a"])(regeneratorRuntime.mark(function e(n){var r,a,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!n||!n.reg){e.next=8;break}if(r=new RegExp(n.reg),a=f.a.chain(t.selectedRows).map(function(e){var t=e.tracker,a=e.hash,i=e.name,o=t.replace(r,n.to||"");return o===t?null:{name:i,hash:a,origUrl:t,newUrl:o}}).compact().value(),!a.length){e.next=8;break}return e.next=6,t.$dialog.confirm({title:"共有".concat(a.length,"個符合條件的種子"),text:"<p>".concat(a.map(function(e,t){return"".concat(t+1,". ").concat(e.name)}).join("</p><p>"),"</p>"),width:500,waitForResult:!0});case 6:i=e.sent,(i?a:[]).reduce(function(){var e=Object(u["a"])(regeneratorRuntime.mark(function e(t,n){var r,a,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t;case 2:return r=n.hash,a=n.origUrl,i=n.newUrl,e.abrupt("return",U.action("torrents/editTracker",{hash:r,origUrl:a,newUrl:i}));case 4:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),Promise.resolve());case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),pauseTorrents:function(){var e=Object(u["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,U.pauseTorrents(this.selectedHashes);case 2:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),reannounceTorrents:function(){var e=Object(u["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,U.reannounceTorrents(this.selectedHashes);case 2:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),recheckTorrents:function(){var e=Object(u["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,U.recheckTorrents(this.selectedHashes);case 2:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),setTorrentsCategory:function(){var e=Object(u["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,U.setTorrentsCategory(this.selectedHashes,t);case 2:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),addTorrentsTag:function(){var e=Object(u["a"])(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.$dialog.form({title:"添加標籤",forms:[{key:"tags",name:"標籤名稱"}]}).then(function(e){e&&t.addTags({hashes:t.selectedHashes,tags:e.tags})});case 1:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),setTorrentsTag:function(){var e=Object(u["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.addTags({hashes:this.selectedHashes,tags:[t]});case 2:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),removeTorrentsTag:function(){var e=Object(u["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.removeTags({hashes:this.selectedHashes,tags:[t]});case 2:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),setTorrentsAutomatic:function(){var e=Object(u["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,U.setTorrentsAutomatic(this.selectedHashes,t);case 2:this.selectedRows=[];case 3:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()}),watch:{pagination:{handler:function(){this.updateConfig({key:"pagination",value:this.pagination})},deep:!0}}}),pn=dn,fn=(n("902e"),n("4cab"),n("ce7e")),vn=Object(_e["a"])(pn,ht,_t,!1,null,"6f113583",null),mn=vn.exports;ge()(vn,{VBtn:ye["a"],VCheckbox:je["a"],VContainer:Te["a"],VDataTable:Rt["a"],VDivider:fn["a"],VIcon:Re["a"],VLayout:Ve["a"],VList:He["a"],VListTile:Ye["a"],VListTileAction:Je["a"],VListTileContent:Ke["a"],VListTileTitle:Ke["c"],VMenu:Ze["a"],VSubheader:Bt["a"],VToolbar:pt["a"]});var hn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.isDataReady?n("v-layout",e._b({},"v-layout",e.topLayoutBind,!1),[e.app?n("v-flex",{attrs:{shrink:""}},[n("v-layout",{attrs:{"align-center":!e.phoneLayout}},[e.phoneLayout?e._e():n("v-flex",[n("v-tooltip",{attrs:{top:"",lazy:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[n("span",e._g({},r),[e._v("\r\n              qBittorrent "+e._s(e.app.version)+"\r\n            ")])]}}],null,!1,955096160)},[n("span",[e._v("\r\n            API版本 "+e._s(e.app.apiVersion)+"\r\n          ")])])],1),e.phoneLayout?e._e():n("v-divider",{staticClass:"mx-2",attrs:{vertical:""}}),n("v-flex",{staticClass:"icon-label"},[n("v-icon",[e._v("mdi-sprout")]),e._v("\r\n        "+e._s(e.allTorrents.length)+" ["+e._s(e._f("formatSize")(e.totalSize))+"]\r\n      ")],1),e.phoneLayout?e._e():n("v-divider",{staticClass:"mx-2",attrs:{vertical:""}}),n("v-flex",{staticClass:"icon-label"},[n("v-icon",[e._v("mdi-nas")]),e._v("\r\n        "+e._s(e._f("formatSize")(e.info.free_space_on_disk))+"\r\n      ")],1)],1)],1):e._e(),e.info?n("v-flex",{attrs:{shrink:""}},[n("v-layout",{attrs:{column:e.phoneLayout,"align-center":!e.phoneLayout}},[e.phoneLayout?e._e():n("v-flex",{staticClass:"icon-label"},[n("v-icon",[e._v("mdi-access-point-network")]),e._v("\r\n        "+e._s(e.info.dht_nodes)+" 節點\r\n      ")],1),e.phoneLayout?e._e():n("v-divider",{staticClass:"mx-2",attrs:{vertical:""}}),n("v-flex",{staticClass:"icon-label"},[n("v-tooltip",{attrs:{top:"",lazy:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[n("v-icon",e._g({attrs:{color:e._f("connectionIconColor")(e.info.connection_status)}},r),[e._v("mdi-"+e._s(e._f("connectionIcon")(e.info.connection_status)))]),e.phoneLayout?n("span",[e._v("\r\n              網路狀態 "+e._s(e.info.connection_status)+"\r\n            ")]):e._e()]}}],null,!1,755641103)},[n("span",[e._v("\r\n            網路狀態 "+e._s(e.info.connection_status)+"\r\n          ")])])],1),e.phoneLayout?e._e():n("v-divider",{staticClass:"mx-2",attrs:{vertical:""}}),n("v-flex",{staticClass:"icon-label"},[e.phoneLayout?n("v-switch",{staticClass:"mt-0 pt-0 speed-switch",attrs:{"hide-details":"",value:e.speedLimited,label:"啟用限速模式"},on:{change:e.toggleSpeedLimitsMode},scopedSlots:e._u([{key:"prepend",fn:function(){return[n("v-icon",e._b({},"v-icon",e.speedModeBind,!1),[e._v("mdi-speedometer")])]},proxy:!0}],null,!1,1838487774)}):n("v-tooltip",{attrs:{top:"",lazy:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[n("v-icon",e._g(e._b({on:{click:e.toggleSpeedLimitsMode}},"v-icon",e.speedModeBind,!1),r),[e._v("mdi-speedometer")])]}}],null,!1,4034207681)},[n("span",[e._v("\r\n            限速模式："+e._s(e.speedLimited?"開啟":"關閉")+"\r\n          ")])])],1),e.phoneLayout?e._e():n("v-divider",{staticClass:"mx-2",attrs:{vertical:""}}),n("v-flex",{staticClass:"icon-label"},[n("v-icon",{attrs:{color:e.info.dl_info_speed>0?"success":null}},[e._v("mdi-download")]),n("span",[e._v("\r\n          "+e._s(e._f("formatSize")(e.info.dl_info_speed))+"/s\r\n          "),e.info.dl_rate_limit?[e._v("\r\n            ("+e._s(e._f("formatSize")(e.info.dl_rate_limit))+"/s)\r\n          ")]:e._e(),[e._v("\r\n            ["+e._s(e._f("formatSize")(e.info.dl_info_data))+"/"+e._s(e._f("formatSize")(e.info.alltime_dl))+"]\r\n          ")]],2)],1),e.phoneLayout?e._e():n("v-divider",{staticClass:"mx-2",attrs:{vertical:""}}),n("v-flex",{staticClass:"icon-label"},[n("v-icon",{attrs:{color:e.info.up_info_speed>0?"warning":null}},[e._v("mdi-upload")]),n("span",[e._v("\r\n          "+e._s(e._f("formatSize")(e.info.up_info_speed))+"/s\r\n          "),e.info.up_rate_limit?[e._v("\r\n            ("+e._s(e._f("formatSize")(e.info.up_rate_limit))+"/s)\r\n          ")]:e._e(),[e._v("\r\n            ["+e._s(e._f("formatSize")(e.info.up_info_data))+"/"+e._s(e._f("formatSize")(e.info.alltime_ul))+"]\r\n          ")]],2)],1)],1)],1):e._e()],1):e._e()},_n=[];function bn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function gn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bn(n,!0).forEach(function(t){Object(c["a"])(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bn(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var xn=r["default"].extend({props:{phoneLayout:Boolean},data:function(){return{app:null,speedLimited:!1}},filters:{connectionIcon:function(e){var t={connected:"server-network",firewalled:"server-network-off",disconnected:"security-network"};return t[e]},connectionIconColor:function(e){var t={connected:"success",firewalled:"warning",disconnected:"error"};return t[e]}},computed:gn({},Object(d["e"])({info:function(e){return this.isDataReady?e.mainData.server_state:null}}),{},Object(d["c"])(["isDataReady","allTorrents"]),{totalSize:function(){return f.a.sumBy(this.allTorrents,"size")},speedModeBind:function(){return this.speedLimited?{class:"speed-limited",color:"warning"}:{class:null,color:"success"}},topLayoutBind:function(){var e=this.phoneLayout;return{column:e,class:e?"in-drawer":null,"mx-4":!e,"fill-height":!e,"align-center":!e,"justify-space-between":!e}}}),methods:{getAppInfo:function(){var e=Object(u["a"])(regeneratorRuntime.mark(function e(){var t,n,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,U.getAppVersion();case 2:return t=e.sent,n=t.data,e.next=6,U.getApiVersion();case 6:t=e.sent,r=t.data,this.app={version:n,apiVersion:r};case 9:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),toggleSpeedLimitsMode:function(){var e=Object(u["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.speedLimited=!this.speedLimited,e.next=3,U.toggleSpeedLimitsMode();case 3:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},created:function(){var e=Object(u["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(this.isDataReady){e.next=2;break}return e.abrupt("return");case 2:return this.speedLimited=this.info.use_alt_speed_limits,e.next=5,this.getAppInfo();case 5:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),watch:{isDataReady:function(){var e=Object(u["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!t||null!==this.app){e.next=3;break}return e.next=3,this.getAppInfo();case 3:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),"info.use_alt_speed_limits":function(e){this.speedLimited=e}}}),yn=xn,kn=(n("3536"),n("b73d")),wn=n("3a2f"),On=Object(_e["a"])(yn,hn,_n,!1,null,"1d7e06a4",null),jn=On.exports;ge()(On,{VDivider:fn["a"],VFlex:De["a"],VIcon:Re["a"],VLayout:Ve["a"],VSwitch:kn["a"],VTooltip:wn["a"]});var Pn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-dialog",{attrs:{value:e.value,scrollable:"",fullscreen:e.phoneLayout,width:e.dialogWidth},on:{input:function(t){return e.$emit("input",t)}}},[n("v-card",[n("v-card-title",{staticClass:"headline grey lighten-4"},[n("v-icon",{staticClass:"mr-2"},[e._v("mdi-delta")]),n("span",[e._v("日誌")])],1),n("v-card-text",[e.logs?e._e():n("v-progress-linear",{attrs:{indeterminate:!0}}),n("DynamicScroller",{staticClass:"logs caption",attrs:{items:e.reverseLogs,"min-item-size":20},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.item,a=t.index,i=t.active;return[n("DynamicScrollerItem",{attrs:{item:r,active:i,"size-dependencies":[r.message],"data-index":r.id}},[n("div",{key:r.id,class:e._f("typeColor")(r.type)},[e._v("\n                            "+e._s(a)+". ["+e._s(e._f("formatType")(r.type))+" "+e._s(e._f("formatTimestamp")(r.timestamp/1e3))+"] "),n("span",{domProps:{innerHTML:e._s(r.message)}})])])]}}])}),n("div",{ref:"end"})],1),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{flat:""},on:{click:e.closeDialog}},[e._v("關閉")])],1)],1)],1)},Tn=[],Cn=r["default"].extend({mixins:[Ct],props:{value:Boolean},data:function(){return{logs:[]}},components:{},filters:{formatType:function(e){var t={1:"N",2:"I",4:"W",8:"C"};return t[e]},typeColor:function(e){var t={1:"secondary--text",2:"info--text",4:"warn--text",8:"error--text"};return t[e]}},computed:{dialogWidth:function(){return this.$vuetify.breakpoint.smAndDown?"100%":"70%"},phoneLayout:function(){return this.$vuetify.breakpoint.xsOnly},reverseLogs:function(e){return _.reverse(_.clone(e.logs))}},methods:{closeDialog:function(){this.$emit("input",!1)},getLogs:function(){var e=Object(u["a"])(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this.logs.length?this.logs[this.logs.length-1]["id"]:-1,e.next=3,U.getLogs(t);case 3:if(n=e.sent,!this.destory){e.next=6;break}return e.abrupt("return");case 6:if(!n.length){e.next=11;break}return this.logs=this.logs.concat(n),e.next=10,this.$nextTick();case 10:this.$refs.end.scrollIntoView();case 11:this.task=setTimeout(this.getLogs,2e3);case 12:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},created:function(){var e=Object(u["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.getLogs();case 2:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()}),Dn=Cn,Sn=(n("0ffa"),n("8e36")),Rn=Object(_e["a"])(Dn,Pn,Tn,!1,null,"38a7b330",null),Vn=Rn.exports;ge()(Rn,{VBtn:ye["a"],VCard:ke["a"],VCardActions:we["a"],VCardText:we["b"],VCardTitle:Oe["a"],VDialog:Ce["a"],VIcon:Re["a"],VProgressLinear:Sn["a"],VSpacer:$e["a"]});var $n=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-dialog",{attrs:{value:!0,width:e.dialogWidth,fullscreen:e.phoneLayout},on:{input:e.closeDialog}},[n("v-card",{staticClass:"rss_card"},[n("v-card-title",{staticClass:"headline grey lighten-4"},[n("v-icon",{staticClass:"mr-2"},[e._v("mdi-rss")]),n("span",[e._v("RSS")])],1),n("v-card-text",{staticClass:"rss_content"},[n("v-tabs",{model:{value:e.mTab,callback:function(t){e.mTab=t},expression:"mTab"}},[n("v-tab",{attrs:{href:"#items"}},[e._v("站點")]),n("v-tab",{attrs:{href:"#rules"}},[e._v("規則")]),n("v-tab",{attrs:{href:"#torrents"}},[e._v("種子")]),n("v-tab",{attrs:{href:"#setting"}},[e._v("設置")])],1),n("v-tabs-items",{attrs:{value:e.mTab,touchless:""}},[n("v-tab-item",{attrs:{value:"items"}},[n("v-list",{staticClass:"list",attrs:{dense:""}},e._l(e.items,function(t,r){return n("v-list-tile",{key:t.uid},[n("v-list-tile-content",[n("v-list-tile-title",[e._v(e._s(r)+" ("+e._s(t.title)+")")]),n("v-list-tile-sub-title",[e._v(e._s(t.url))])],1),n("v-list-tile-action",[n("div",{staticClass:"action"},[n("ItemAction",{attrs:{name:r,url:t.url}}),n("v-btn",{staticClass:"small",attrs:{flat:""},on:{click:function(t){return e.remove("removeItem",{name:r})}}},[n("v-icon",{},[e._v("mdi-delete")])],1),n("v-btn",{staticClass:"small",attrs:{flat:""},on:{click:function(t){return e.refreshItemAction({name:r})}}},[n("v-icon",{},[e._v("mdi-refresh")])],1)],1)])],1)}),1)],1),n("v-tab-item",{attrs:{value:"rules"}},[n("v-container",{attrs:{fluid:"","grid-list-md":""}},[n("v-data-iterator",{staticClass:"rules",attrs:{items:e.rules,"total-items":e.rules.length,"content-tag":"v-layout","hide-actions":"",row:"",wrap:""},scopedSlots:e._u([{key:"item",fn:function(t){return[n("v-flex",{attrs:{xs12:"",sm6:"",md4:"",lg3:""}},[n("v-card",[n("v-card-title",[n("h4",[e._v(e._s(t.item.name))]),n("v-spacer"),n("RuleAction",{attrs:{name:t.item.name,rule:t.item}}),n("v-btn",{staticClass:"small",attrs:{flat:""},on:{click:function(n){return e.remove("removeRule",{name:t.item.name})}}},[n("v-icon",{},[e._v("mdi-delete")])],1)],1),n("v-divider"),n("v-list",{attrs:{dense:""}},[n("v-list-tile",[n("v-list-tile-content",{staticClass:"label"},[e._v("開啟:")]),n("v-list-tile-content",{staticClass:"align-end"},[e._v(e._s(e._f("boolean")(t.item.enabled))+"\n                                                ")])],1),n("v-list-tile",[n("v-list-tile-content",{staticClass:"label"},[e._v("忽略天數:")]),n("v-list-tile-content",{staticClass:"align-end"},[e._v(e._s(t.item.ignoreDays)+"\n                                                ")])],1),n("v-list-tile",[n("v-list-tile-content",{staticClass:"label"},[e._v("必須包含:")]),n("v-list-tile-content",{staticClass:"align-end"},[e._v(e._s(t.item.mustContain)+"\n                                                ")])],1),n("v-list-tile",[n("v-list-tile-content",{staticClass:"label"},[e._v("不能包含:")]),n("v-list-tile-content",{staticClass:"align-end"},[e._v(e._s(t.item.mustNotContain)+"\n                                                ")])],1),n("v-list-tile",[n("v-list-tile-content",{staticClass:"label"},[e._v("開啟正則:")]),n("v-list-tile-content",{staticClass:"align-end"},[e._v(e._s(e._f("boolean")(t.item.useRegex))+"\n                                                ")])],1),n("v-list-tile",[n("v-list-tile-content",{staticClass:"label"},[e._v("儲存路徑:")]),n("v-list-tile-content",{staticClass:"align-end"},[e._v(e._s(t.item.savePath)+"\n                                                ")])],1),n("v-list-tile",[n("v-list-tile-content",{staticClass:"label"},[e._v("分配分類:")]),n("v-list-tile-content",{staticClass:"align-end"},[e._v(e._s(t.item.assignedCategory)+"\n                                                ")])],1),n("v-list-tile",[n("v-list-tile-content",{staticClass:"label"},[e._v("添加後暫停:")]),n("v-list-tile-content",{staticClass:"align-end"},[e._v(e._s(e._f("boolean")(t.item.addPaused))+"\n                                                ")])],1),n("v-list-tile",[n("v-list-tile-content",{staticClass:"label"},[e._v("最後捕獲日期:")]),n("v-list-tile-content",{staticClass:"align-end"},[e._v(e._s(e._f("formatDate")(t.item.lastMatch))+"\n                                                ")])],1),n("v-list-tile",{staticClass:"feeds_list"},[n("v-list-tile-content",{staticClass:"label"},[e._v("包含數據源:")]),n("v-list-tile-content",{staticClass:"align-end"},[n("div",{staticClass:"chip"},e._l(t.item.affectedFeedsObj,function(t){return n("v-chip",{key:t.name,attrs:{small:""}},[e._v("\n                                                            "+e._s(t.name)+"\n                                                        ")])}),1)])],1)],1)],1)],1)]}}])})],1)],1),n("v-tab-item",{attrs:{value:"torrents"}},[n("v-expansion-panel",{staticClass:"torrentsPanel",attrs:{expand:""},model:{value:e.torrentsPanel,callback:function(t){e.torrentsPanel=t},expression:"torrentsPanel"}},e._l(e.items,function(t,r){return n("v-expansion-panel-content",{key:t.uid,scopedSlots:e._u([{key:"header",fn:function(){return[n("div",{staticClass:"title"},[e._v(e._s(r)+"("+e._s(t.title)+")")])]},proxy:!0}],null,!0)},[n("v-list",{staticClass:"list",attrs:{dense:""}},[e._l(t.articles,function(r,a){return[n("v-list-tile",{key:r.id},[n("v-list-tile-content",[n("v-list-tile-title",[e._v(e._s(r.title)+"\n                                            ")]),n("v-list-tile-sub-title",[n("div",{staticClass:"desc"},[n("span",[e._v("["+e._s(r.category)+"]")]),n("span",[e._v("日期:"+e._s(e._f("formatDate")(r.date)))]),n("span",[e._v("已讀:"+e._s(e._f("boolean")(r.isRead)))])])])],1),n("v-list-tile-action",[n("div",{staticClass:"action"},[n("v-btn",{staticClass:"small",attrs:{flat:"",target:"_blank",href:r.link}},[e._v("\n                                                    詳情\n                                                ")]),n("v-btn",{staticClass:"small",attrs:{flat:""},on:{click:function(t){return e.addTorrent(r.torrentURL)}}},[e._v("\n                                                    下載\n                                                ")])],1)])],1),a+1<t.articles.length?n("v-divider",{key:a,staticClass:"list_border"}):e._e()]})],2)],1)}),1)],1),n("v-tab-item",{attrs:{value:"setting"}},[n("v-card",{attrs:{flat:""}},[n("v-card-text",[n("v-checkbox",{attrs:{label:"開啟",type:"checkbox"},model:{value:e.rss_processing_enabled,callback:function(t){e.rss_processing_enabled=t},expression:"rss_processing_enabled"}}),n("v-text-field",{attrs:{type:"number",suffix:"分鐘",label:"刷新間隔"},model:{value:e.rss_refresh_interval,callback:function(t){e.rss_refresh_interval=t},expression:"rss_refresh_interval"}}),n("v-checkbox",{attrs:{label:"開啟自動下載",type:"checkbox"},model:{value:e.rss_auto_downloading_enabled,callback:function(t){e.rss_auto_downloading_enabled=t},expression:"rss_auto_downloading_enabled"}}),n("v-text-field",{attrs:{type:"number",suffix:"個",label:"種子抓取數量"},model:{value:e.rss_max_articles_per_feed,callback:function(t){e.rss_max_articles_per_feed=t},expression:"rss_max_articles_per_feed"}})],1)],1)],1)],1)],1),n("v-card-actions",[n("v-spacer"),"items"===e.mTab?n("ItemAction"):e._e(),"rules"===e.mTab?n("RuleAction"):e._e(),"setting"===e.mTab?n("v-btn",{attrs:{color:"success",flat:""},on:{click:e.saveSetting}},[e._v("\n                儲存\n            ")]):e._e(),n("v-btn",{attrs:{flat:""},on:{click:e.closeDialog}},[e._v("關閉")])],1)],1)],1)},An=[],Ln=(n("7514"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-dialog",{attrs:{persistent:"",width:e.dialogWidth,fullscreen:e.phoneLayout},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[n("v-btn",e._g({staticClass:"small",attrs:{flat:""}},r),[n("v-icon",{},[e._v("mdi-"+e._s(e.name?"pencil":"plus"))]),e._v("\n            "+e._s(e.name?"":"新增站點")+"\n        ")],1)]}}]),model:{value:e.show,callback:function(t){e.show=t},expression:"show"}},[n("v-card",[n("v-card-title",[n("span",{staticClass:"headline"},[e._v(e._s(e.isEdit?"編輯站點":"新增站點"))])]),n("v-card-text",[n("v-form",[n("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{label:"名稱","data-vv-name":"名稱","error-messages":e.errors.collect("名稱"),required:""},model:{value:e.data.name,callback:function(t){e.$set(e.data,"name",t)},expression:"data.name"}}),n("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{label:"URL","data-vv-name":"URL","error-messages":e.errors.collect("URL"),disabled:e.isEdit,required:""},model:{value:e.data.url,callback:function(t){e.$set(e.data,"url",t)},expression:"data.url"}})],1)],1),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{disabled:!e.valid,color:"success"},on:{click:e.validate}},[e._v("\n                儲存\n            ")]),n("v-btn",{on:{click:e.closeDialog}},[e._v("取消")])],1)],1)],1)}),In=[];function En(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Bn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?En(n,!0).forEach(function(t){Object(c["a"])(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):En(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var Fn=r["default"].extend({components:{},data:function(){return{show:!1,valid:!0,isEdit:!!this.url,data:{name:this.name||"",url:this.url||""}}},props:{name:String,url:String},computed:Bn({},Object(d["e"])("rss",{items:function(e){return f.a.get(e,"items",{})},rules:function(e){return f.a.get(e,"rules",{})}}),{phoneLayout:function(){return this.$vuetify.breakpoint.xsOnly},dialogWidth:function(){return this.phoneLayout?"100%":"80%"}}),methods:Bn({},Object(d["b"])("rss",["addItem","renameItem"]),{validate:function(){var e=this;this.$validator.validateAll().then(function(t){if(t)return e.isEdit?e.renameItem({name:e.name,newName:e.data.name}):e.addItem(e.data);throw"驗證錯誤"}).then(function(){e.closeDialog()})},closeDialog:function(){this.show=!1}})}),Un=Fn,Nn=(n("e2a8"),Object(_e["a"])(Un,Ln,In,!1,null,"165af2f4",null)),zn=Nn.exports;ge()(Nn,{VBtn:ye["a"],VCard:ke["a"],VCardActions:we["a"],VCardText:we["b"],VCardTitle:Oe["a"],VDialog:Ce["a"],VForm:Se["a"],VIcon:Re["a"],VSpacer:$e["a"],VTextField:dt["a"]});var Mn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-dialog",{attrs:{persistent:"",width:e.dialogWidth,fullscreen:e.phoneLayout},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[n("v-btn",e._g({staticClass:"small",attrs:{flat:""}},r),[n("v-icon",[e._v("mdi-"+e._s(e.name?"pencil":"plus"))]),e._v("\n            "+e._s(e.name?"":"新增規則")+"\n        ")],1)]}}]),model:{value:e.show,callback:function(t){e.show=t},expression:"show"}},[n("v-card",[n("v-card-title",[n("span",{staticClass:"headline"},[e._v(e._s(e.isEdit?"編輯規則":"新增規則"))])]),n("v-card-text",[n("v-form",[n("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{label:"名稱","data-vv-name":"名稱",disabled:e.isEdit,"error-messages":e.errors.collect("名稱"),required:""},model:{value:e.ruleName,callback:function(t){e.ruleName=t},expression:"ruleName"}}),n("v-checkbox",{attrs:{label:"是否開啟",type:"checkbox","data-vv-name":"是否開啟"},model:{value:e.data.enabled,callback:function(t){e.$set(e.data,"enabled",t)},expression:"data.enabled"}}),n("v-text-field",{attrs:{type:"number",label:"忽略天數"},model:{value:e.data.ignoreDays,callback:function(t){e.$set(e.data,"ignoreDays",e._n(t))},expression:"data.ignoreDays"}}),n("v-text-field",{attrs:{label:"必須包含"},model:{value:e.data.mustContain,callback:function(t){e.$set(e.data,"mustContain",t)},expression:"data.mustContain"}}),n("v-text-field",{attrs:{label:"不能包含"},model:{value:e.data.mustNotContain,callback:function(t){e.$set(e.data,"mustNotContain",t)},expression:"data.mustNotContain"}}),n("v-checkbox",{attrs:{label:"開啟正則",type:"checkbox"},model:{value:e.data.useRegex,callback:function(t){e.$set(e.data,"useRegex",t)},expression:"data.useRegex"}}),n("v-checkbox",{attrs:{label:"添加後暫停",type:"checkbox"},model:{value:e.data.addPaused,callback:function(t){e.$set(e.data,"addPaused",t)},expression:"data.addPaused"}}),n("v-combobox",{attrs:{label:"分類","prepend-icon":"mdi-folder",clearable:"","hide-no-data":"",items:e.categories},model:{value:e.data.assignedCategory,callback:function(t){e.$set(e.data,"assignedCategory",t)},expression:"data.assignedCategory"}}),n("v-text-field",{attrs:{label:"儲存路徑"},model:{value:e.data.savePath,callback:function(t){e.$set(e.data,"savePath",t)},expression:"data.savePath"}}),n("v-select",{attrs:{items:e.items,chips:"",multiple:"",label:"數據源"},model:{value:e.data.affectedFeeds,callback:function(t){e.$set(e.data,"affectedFeeds",t)},expression:"data.affectedFeeds"}})],1)],1),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{disabled:!e.valid,color:"success"},on:{click:e.validate}},[e._v("\n                儲存\n            ")]),n("v-btn",{on:{click:e.closeDialog}},[e._v("取消")])],1)],1)],1)},qn=[];function Gn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Hn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Gn(n,!0).forEach(function(t){Object(c["a"])(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gn(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var Wn=r["default"].extend({components:{},data:function(){return{show:!1,valid:!0,isEdit:!!this.name,ruleName:this.name,data:Hn({},f.a.get(this,"rule",{}))}},props:{name:String,rule:Object},computed:Hn({},Object(d["e"])("rss",{items:function(e){var t=f.a.get(e,"items",{});return f.a.map(t,function(e,t){return{text:t,value:e.url}})},rules:function(e){return f.a.get(e,"rules",{})}}),{},Object(d["e"])({prefs:function(e){return e.preferences}}),{},Object(d["e"])("category",{categories:function(e,t){return t.allCategories.map(function(e){return e.key})}}),{phoneLayout:function(){return this.$vuetify.breakpoint.xsOnly},dialogWidth:function(){return this.phoneLayout?"100%":"80%"}}),methods:Hn({},Object(d["b"])("rss",["setRule","renameRule"]),{validate:function(){var e=this;this.$validator.validateAll().then(function(t){if(t)return e.setRule({name:e.ruleName,rule:e.data});throw"驗證錯誤"}).then(function(){e.closeDialog()})},closeDialog:function(){this.show=!1}})}),Yn=Wn,Jn=(n("c66d"),n("b56d")),Kn=Object(_e["a"])(Yn,Mn,qn,!1,null,"e23afd72",null),Zn=Kn.exports;function Xn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Qn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xn(n,!0).forEach(function(t){Object(c["a"])(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xn(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}ge()(Kn,{VBtn:ye["a"],VCard:ke["a"],VCardActions:we["a"],VCardText:we["b"],VCardTitle:Oe["a"],VCheckbox:je["a"],VCombobox:Pe["a"],VDialog:Ce["a"],VForm:Se["a"],VIcon:Re["a"],VSelect:Jn["a"],VSpacer:$e["a"],VTextField:dt["a"]});var er=["rss_refresh_interval","rss_max_articles_per_feed","rss_processing_enabled","rss_auto_downloading_enabled"],tr=r["default"].extend({components:{ItemAction:zn,RuleAction:Zn},props:{tab:String},data:function(){return{mTab:null,torrentsPanel:[]}},created:function(){var e=Object(u["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.mTab=this.tab,e.next=3,this.getAllItems();case 3:return e.next=5,this.getAllRules();case 5:this.torrentsPanel=f.a.map(this.items,function(){return!0});case 6:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),computed:Qn({},Object(d["e"])("rss",{items:function(e){return f.a.get(e,"items",{})},rules:function(e){var t=f.a.get(e,"rules",[]),n=f.a.get(e,"items",{});return f.a.map(t,function(e){return Qn({},e,{affectedFeedsObj:f.a.map(e.affectedFeeds,function(e){var t=f.a.find(n,{url:e});return{name:f.a.get(t,"name","已刪除"),url:e}})})})}}),{},S({parent:"preferences",keys:er}),{phoneLayout:function(){return this.$vuetify.breakpoint.xsOnly},dialogWidth:function(){return this.phoneLayout?"100%":"80%"}}),methods:Qn({},Object(d["b"])("rss",["getAllItems","removeItem","refreshItem","removeRule","getAllRules"]),{},Object(d["b"])(["setPreferences"]),{saveSetting:function(){var e=this;return this.setPreferences().then(function(){e.$dialog.message.success("儲存成功",{position:"top"})})},refreshItemAction:function(){var e=this;this.refreshItem.apply(this,arguments).then(function(t){e.$dialog.message.success("刷新成功",{position:"top"})})},remove:function(e,t){var n=this;this.$dialog.confirm({text:"確認刪除?",title:"刪除"}).then(function(r){r&&n[e](t)})},addTorrent:function(e){this.$store.commit("dialogAction",{key:"add",value:!0,params:{urls:[e]}})},closeDialog:function(){this.$emit("input",!1)}}),watch:{mTab:function(e){this.$emit("change",e)}}}),nr=tr,rr=(n("d81e"),n("cc20")),ar=n("c377"),ir=n("cd55"),or=n("49e2"),sr=Object(_e["a"])(nr,$n,An,!1,null,"24da7096",null),lr=sr.exports;ge()(sr,{VBtn:ye["a"],VCard:ke["a"],VCardActions:we["a"],VCardText:we["b"],VCardTitle:Oe["a"],VCheckbox:je["a"],VChip:rr["a"],VContainer:Te["a"],VDataIterator:ar["a"],VDialog:Ce["a"],VDivider:fn["a"],VExpansionPanel:ir["a"],VExpansionPanelContent:or["a"],VFlex:De["a"],VIcon:Re["a"],VList:He["a"],VListTile:Ye["a"],VListTileAction:Je["a"],VListTileContent:Ke["a"],VListTileSubTitle:Ke["b"],VListTileTitle:Ke["c"],VSpacer:$e["a"],VTab:tn["a"],VTabItem:nn["a"],VTabs:rn["a"],VTabsItems:an["a"],VTextField:dt["a"]});var cr=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-dialog",{attrs:{value:!0,width:e.dialogWidth,fullscreen:e.phoneLayout},on:{input:e.closeDialog}},[n("v-card",{},[n("v-card-title",{staticClass:"headline grey lighten-4"},[n("v-icon",{staticClass:"mr-2"},[e._v("mdi-settings")]),n("span",[e._v("設置")])],1),n("v-card-text",{staticClass:"settings_card"},[n("v-tabs",{model:{value:e.mTab,callback:function(t){e.mTab=t},expression:"mTab"}},[n("v-tab",{attrs:{href:"#download"}},[e._v("下載")]),n("v-tab",{attrs:{href:"#connect"}},[e._v("連接")]),n("v-tab",{attrs:{href:"#speed"}},[e._v("速度")]),n("v-tab",{attrs:{href:"#bittorrent"}},[e._v("BitTorrent")])],1),n("v-tabs-items",{attrs:{value:e.mTab,touchless:""}},[n("v-tab-item",{attrs:{value:"download"}},[n("v-container",{attrs:{fluid:"","grid-list-lg":""}},[n("v-layout",[n("v-flex",[n("v-card",[n("v-card-title",[e._v("\n                                        當添加種子時\n                                    ")]),n("v-card-text",[n("v-layout",{attrs:{column:this.$vuetify.breakpoint.smAndDown}},[n("v-flex",[n("v-checkbox",{attrs:{"hide-details":"",label:"建立多文件子目錄",type:"checkbox"},model:{value:e.create_subfolder_enabled,callback:function(t){e.create_subfolder_enabled=t},expression:"create_subfolder_enabled"}})],1),n("v-flex",[n("v-checkbox",{attrs:{label:"不要自動開始下載",type:"checkbox","hide-details":""},model:{value:e.start_paused_enabled,callback:function(t){e.start_paused_enabled=t},expression:"start_paused_enabled"}})],1),n("v-flex",[n("v-checkbox",{attrs:{label:"完成後刪除 .torrent 文件","hide-details":"",type:"checkbox"},model:{value:e.auto_delete_mode,callback:function(t){e.auto_delete_mode=t},expression:"auto_delete_mode"}})],1)],1),n("v-layout",{attrs:{column:this.$vuetify.breakpoint.smAndDown}},[n("v-flex",[n("v-checkbox",{attrs:{label:"為所有文件預分配磁碟空間","hide-details":"",type:"checkbox"},model:{value:e.preallocate_all,callback:function(t){e.preallocate_all=t},expression:"preallocate_all"}})],1),n("v-flex",[n("v-checkbox",{attrs:{label:"為不完整的文件添加擴展名 .!qB","hide-details":"",type:"checkbox"},model:{value:e.incomplete_files_ext,callback:function(t){e.incomplete_files_ext=t},expression:"incomplete_files_ext"}})],1)],1)],1)],1)],1)],1),n("v-layout",[n("v-flex",[n("v-card",[n("v-card-title",[e._v("\n                                        儲存管理\n                                    ")]),n("v-card-text",[n("v-layout",{attrs:{column:this.$vuetify.breakpoint.smAndDown}},[n("v-flex",[n("v-switch",{attrs:{"hide-details":"",label:"預設自動管理種子"},model:{value:e.auto_tmm_enabled,callback:function(t){e.auto_tmm_enabled=t},expression:"auto_tmm_enabled"}})],1)],1),n("v-layout",{attrs:{column:this.$vuetify.breakpoint.smAndDown}},[n("v-flex",[n("v-select",{attrs:{items:[{text:"重新定位Torrent",value:!0},{text:"切換Torrent到手動模式",value:!1}],"hide-details":"",label:"當Torrent分類修改時"},model:{value:e.torrent_changed_tmm_enabled,callback:function(t){e.torrent_changed_tmm_enabled=t},expression:"torrent_changed_tmm_enabled"}})],1),n("v-flex",[n("v-select",{attrs:{items:[{text:"重新定位Torrent",value:!0},{text:"切換Torrent到手動模式",value:!1}],"hide-details":"",label:"當預設儲存路徑修改時"},model:{value:e.save_path_changed_tmm_enabled,callback:function(t){e.save_path_changed_tmm_enabled=t},expression:"save_path_changed_tmm_enabled"}})],1),n("v-flex",[n("v-select",{attrs:{items:[{text:"重新定位Torrent",value:!0},{text:"切換Torrent到手動模式",value:!1}],"hide-details":"",label:"當分類儲存路徑修改時"},model:{value:e.category_changed_tmm_enabled,callback:function(t){e.category_changed_tmm_enabled=t},expression:"category_changed_tmm_enabled"}})],1)],1),n("v-layout",{attrs:{column:this.$vuetify.breakpoint.smAndDown}},[n("v-flex",[n("v-text-field",{attrs:{label:"預設儲存路徑"},model:{value:e.save_path,callback:function(t){e.save_path=t},expression:"save_path"}})],1)],1),n("v-layout",[n("v-flex",{attrs:{shrink:""}},[n("v-checkbox",{attrs:{label:"儲存未完成的torrents到","hide-details":"",type:"checkbox"},model:{value:e.temp_path_enabled,callback:function(t){e.temp_path_enabled=t},expression:"temp_path_enabled"}})],1),n("v-flex",[n("v-text-field",{attrs:{disabled:!e.temp_path_enabled,label:"臨時儲存路徑"},model:{value:e.temp_path,callback:function(t){e.temp_path=t},expression:"temp_path"}})],1)],1),n("v-layout",[n("v-flex",[n("v-text-field",{attrs:{label:"複製 .torrent 文件到"},model:{value:e.export_dir,callback:function(t){e.export_dir=t},expression:"export_dir"}})],1)],1),n("v-layout",[n("v-flex",[n("v-text-field",{attrs:{label:"複製下載完成的 .torrent 文件到"},model:{value:e.export_dir_fin,callback:function(t){e.export_dir_fin=t},expression:"export_dir_fin"}})],1)],1)],1)],1)],1)],1)],1)],1),n("v-tab-item",{attrs:{value:"connect"}},[n("v-container",{attrs:{fluid:"","grid-list-lg":""}},[n("v-layout",[n("v-flex",[n("v-select",{attrs:{items:[{text:"TCP 和 μTP",value:0},{text:"TCP",value:1},{text:"μTP",value:2}],"hide-details":"",label:"啟用的協議"},model:{value:e.bittorrent_protocol,callback:function(t){e.bittorrent_protocol=t},expression:"bittorrent_protocol"}})],1)],1),n("v-layout",[n("v-flex",[n("v-card",[n("v-card-title",[e._v("\n                                        監聽端口\n                                    ")]),n("v-card-text",[n("v-layout",[n("v-flex",[n("v-text-field",{attrs:{type:"number",label:"用於傳入連接的端口"},model:{value:e.listen_port,callback:function(t){e.listen_port=t},expression:"listen_port"}})],1)],1),n("v-layout",{attrs:{column:this.$vuetify.breakpoint.smAndDown}},[n("v-flex",[n("v-checkbox",{attrs:{label:"使用我的路由器的 UPnP / NAT-PMP 端口轉發","hide-details":"",type:"checkbox"},model:{value:e.upnp,callback:function(t){e.upnp=t},expression:"upnp"}})],1),n("v-flex",[n("v-checkbox",{attrs:{label:"在每次啟動時使用不同的端口","hide-details":"",type:"checkbox"},model:{value:e.random_port,callback:function(t){e.random_port=t},expression:"random_port"}})],1)],1)],1)],1)],1)],1),n("v-layout",[n("v-flex",[n("v-card",[n("v-card-title",[e._v("\n                                        監聽端口\n                                    ")]),n("v-card-text",[n("v-layout",{attrs:{column:this.$vuetify.breakpoint.smAndDown}},[n("v-flex",[n("v-text-field",{attrs:{"prepend-icon":e.max_connec?"mdi-checkbox-marked":"mdi-checkbox-blank-outline",label:"全域最大連接數",readonly:!e.max_connec},on:{"click:prepend":function(t){return e.changeStatus("max_connec",500)}},model:{value:e.max_connec,callback:function(t){e.max_connec=t},expression:"max_connec"}})],1),n("v-flex",[n("v-text-field",{attrs:{"prepend-icon":e.max_connec_per_torrent?"mdi-checkbox-marked":"mdi-checkbox-blank-outline",label:"每 torrent 最大連接數",readonly:!e.max_connec_per_torrent},on:{"click:prepend":function(t){return e.changeStatus("max_connec_per_torrent",100)}},model:{value:e.max_connec_per_torrent,callback:function(t){e.max_connec_per_torrent=t},expression:"max_connec_per_torrent"}})],1),n("v-flex",[n("v-text-field",{attrs:{"prepend-icon":e.max_uploads?"mdi-checkbox-marked":"mdi-checkbox-blank-outline",label:"全域最大上傳線程數",readonly:!e.max_uploads},on:{"click:prepend":function(t){return e.changeStatus("max_uploads",8)}},model:{value:e.max_uploads,callback:function(t){e.max_uploads=t},expression:"max_uploads"}})],1),n("v-flex",[n("v-text-field",{attrs:{"prepend-icon":e.max_uploads_per_torrent?"mdi-checkbox-marked":"mdi-checkbox-blank-outline",label:"每 torrent 上傳線程最大值",readonly:!e.max_uploads_per_torrent},on:{"click:prepend":function(t){return e.changeStatus("max_uploads_per_torrent",4)}},model:{value:e.max_uploads_per_torrent,callback:function(t){e.max_uploads_per_torrent=t},expression:"max_uploads_per_torrent"}})],1)],1)],1)],1)],1)],1),n("v-layout",[n("v-flex",[n("v-card",[n("v-card-title",[e._v("\n                                        代理服務器\n                                    ")]),n("v-card-text",[n("v-layout",{attrs:{column:this.$vuetify.breakpoint.smAndDown}},[n("v-flex",[n("v-select",{attrs:{items:[{text:"無",value:0},{text:"socks4",value:5},{text:"socks5",value:2},{text:"http",value:1}],"hide-details":"",label:"類型"},model:{value:e.proxy_type,callback:function(t){e.proxy_type=t},expression:"proxy_type"}})],1),n("v-flex",[n("v-text-field",{attrs:{disabled:0===e.proxy_type,label:"主機"},model:{value:e.proxy_ip,callback:function(t){e.proxy_ip=t},expression:"proxy_ip"}})],1),n("v-flex",[n("v-text-field",{attrs:{type:"number",disabled:0===e.proxy_type,label:"端口"},model:{value:e.proxy_port,callback:function(t){e.proxy_port=t},expression:"proxy_port"}})],1)],1),n("v-layout",{attrs:{column:this.$vuetify.breakpoint.smAndDown}},[n("v-flex",[n("v-checkbox",{attrs:{label:"使用代理服務器進行連接",disabled:0===e.proxy_type,"hide-details":"",type:"checkbox"},model:{value:e.proxy_peer_connections,callback:function(t){e.proxy_peer_connections=t},expression:"proxy_peer_connections"}})],1),n("v-flex",[n("v-checkbox",{attrs:{label:"只對 torrents 使用代理",disabled:0===e.proxy_type,"hide-details":"",type:"checkbox"},model:{value:e.proxy_torrents_only,callback:function(t){e.proxy_torrents_only=t},expression:"proxy_torrents_only"}})],1)],1),n("v-layout",{attrs:{column:this.$vuetify.breakpoint.smAndDown}},[n("v-flex",{attrs:{shrink:""}},[n("v-checkbox",{attrs:{label:"驗證",disabled:0===e.proxy_type,"hide-details":"",type:"checkbox"},model:{value:e.proxy_auth_enabled,callback:function(t){e.proxy_auth_enabled=t},expression:"proxy_auth_enabled"}})],1),n("v-flex",[n("v-text-field",{attrs:{disabled:!e.proxy_auth_enabled,label:"用戶名"},model:{value:e.proxy_username,callback:function(t){e.proxy_username=t},expression:"proxy_username"}})],1),n("v-flex",[n("v-text-field",{attrs:{disabled:!e.proxy_auth_enabled,label:"密碼"},model:{value:e.proxy_password,callback:function(t){e.proxy_password=t},expression:"proxy_password"}})],1)],1)],1)],1)],1)],1),n("v-layout",[n("v-flex",[n("v-card",[n("v-card-title",[n("v-checkbox",{attrs:{label:"IP過濾","hide-details":"",type:"checkbox"},model:{value:e.ip_filter_enabled,callback:function(t){e.ip_filter_enabled=t},expression:"ip_filter_enabled"}})],1),n("v-card-text",[n("v-layout",{attrs:{column:this.$vuetify.breakpoint.smAndDown}},[n("v-flex",[n("v-text-field",{attrs:{disabled:!e.ip_filter_enabled,label:"過濾規則路徑 (.dat, .p2p, .p2b)"},model:{value:e.ip_filter_path,callback:function(t){e.ip_filter_path=t},expression:"ip_filter_path"}})],1),n("v-flex",[n("v-checkbox",{attrs:{disabled:!e.ip_filter_enabled,label:"匹配 trackers","hide-details":"",type:"checkbox"},model:{value:e.ip_filter_trackers,callback:function(t){e.ip_filter_trackers=t},expression:"ip_filter_trackers"}})],1)],1),n("v-layout",[n("v-flex",[n("v-textarea",{attrs:{disabled:!e.ip_filter_enabled,label:"手動屏蔽 IP 地址"},model:{value:e.banned_IPs,callback:function(t){e.banned_IPs=t},expression:"banned_IPs"}})],1)],1)],1)],1)],1)],1)],1)],1),n("v-tab-item",{attrs:{value:"speed"}},[n("v-container",{attrs:{fluid:"","grid-list-lg":""}},[n("v-layout",[n("v-flex",[n("v-card",[n("v-card-title",[e._v("\n                                        全域速度限制\n                                    ")]),n("v-card-text",[n("v-layout",[n("v-flex",[n("v-text-field",{attrs:{type:"number",suffix:"KiB/s",label:"上傳"},model:{value:e.up_limit,callback:function(t){e.up_limit=t},expression:"up_limit"}})],1),n("v-flex",[n("v-text-field",{attrs:{type:"number",label:"下載",suffix:"KiB/s"},model:{value:e.dl_limit,callback:function(t){e.dl_limit=t},expression:"dl_limit"}})],1)],1),n("p",[e._v("0 為無限制")])],1)],1)],1)],1),n("v-layout",[n("v-flex",[n("v-card",[n("v-card-title",[e._v("\n                                        備用速度限制\n                                    ")]),n("v-card-text",[n("v-layout",{attrs:{row:""}},[n("v-flex",[n("v-text-field",{attrs:{type:"number",suffix:"KiB/s",label:"上傳"},model:{value:e.alt_up_limit,callback:function(t){e.alt_up_limit=t},expression:"alt_up_limit"}})],1),n("v-flex",[n("v-text-field",{attrs:{type:"number",label:"下載",suffix:"KiB/s"},model:{value:e.alt_dl_limit,callback:function(t){e.alt_dl_limit=t},expression:"alt_dl_limit"}})],1)],1),n("p",[e._v("0 為無限制")]),n("v-layout",[n("v-flex",[n("v-card",[n("v-card-title",[n("v-checkbox",{attrs:{label:"計劃備用速度限制的啟用時間","hide-details":"",type:"checkbox"},model:{value:e.scheduler_enabled,callback:function(t){e.scheduler_enabled=t},expression:"scheduler_enabled"}})],1),n("v-card-text",[n("v-layout",{attrs:{row:""}},[n("v-flex",[n("v-text-field",{attrs:{mask:"##:##","return-masked-value":"",disabled:!e.scheduler_enabled,label:"從"},model:{value:e.schedule_from,callback:function(t){e.schedule_from=t},expression:"schedule_from"}})],1),n("v-flex",[n("v-text-field",{attrs:{label:"到",disabled:!e.scheduler_enabled,"return-masked-value":"",mask:"##:##"},model:{value:e.schedule_to,callback:function(t){e.schedule_to=t},expression:"schedule_to"}})],1)],1),n("v-layout",[n("v-flex",[n("v-select",{attrs:{disabled:!e.scheduler_enabled,items:["每天","工作日","周末","周一","周二","周三","周四","周五","周六","周日"].map(function(e,t){return{text:e,value:t}}),"hide-details":"",label:"時間"},model:{value:e.bittorrent_protocol,callback:function(t){e.bittorrent_protocol=t},expression:"bittorrent_protocol"}})],1)],1)],1)],1)],1)],1)],1)],1)],1)],1),n("v-layout",[n("v-flex",[n("v-card",[n("v-card-title",[e._v("\n                                        設置速度限制\n                                    ")]),n("v-card-text",[n("v-layout",{attrs:{column:this.$vuetify.breakpoint.smAndDown}},[n("v-flex",[n("v-checkbox",{attrs:{label:"對 µTP 協議進行速度限制","hide-details":"",type:"checkbox"},model:{value:e.limit_utp_rate,callback:function(t){e.limit_utp_rate=t},expression:"limit_utp_rate"}})],1),n("v-flex",[n("v-checkbox",{attrs:{label:"對傳送總開銷進行速度限制","hide-details":"",type:"checkbox"},model:{value:e.limit_tcp_overhead,callback:function(t){e.limit_tcp_overhead=t},expression:"limit_tcp_overhead"}})],1),n("v-flex",[n("v-checkbox",{attrs:{label:"限制本地用戶帶寬","hide-details":"",type:"checkbox"},model:{value:e.limit_lan_peers,callback:function(t){e.limit_lan_peers=t},expression:"limit_lan_peers"}})],1)],1)],1)],1)],1)],1)],1)],1),n("v-tab-item",{attrs:{value:"bittorrent"}},[n("v-container",{attrs:{fluid:"","grid-list-sm":""}},[n("v-layout",[n("v-flex",[n("v-card",[n("v-card-title",[e._v("\n                                        隱私\n                                    ")]),n("v-card-text",[n("v-layout",{attrs:{column:this.$vuetify.breakpoint.smAndDown}},[n("v-flex",[n("v-checkbox",{attrs:{label:"啟用 DHT（分散網路）以獲取更多資源","hide-details":"",type:"checkbox"},model:{value:e.dht,callback:function(t){e.dht=t},expression:"dht"}})],1),n("v-flex",[n("v-checkbox",{attrs:{label:"啟用用戶交換（PeX）以獲取更多資源","hide-details":"",type:"checkbox"},model:{value:e.pex,callback:function(t){e.pex=t},expression:"pex"}})],1),n("v-flex",[n("v-checkbox",{attrs:{label:"啟用本地資源搜尋以獲取更多資源","hide-details":"",type:"checkbox"},model:{value:e.lsd,callback:function(t){e.lsd=t},expression:"lsd"}})],1)],1),n("v-layout",{attrs:{column:this.$vuetify.breakpoint.smAndDown}},[n("v-flex",[n("v-select",{attrs:{items:["允許加密","強制加密","禁止加密"].map(function(e,t){return{text:e,value:t}}),"hide-details":"",label:"加密模式"},model:{value:e.encryption,callback:function(t){e.encryption=t},expression:"encryption"}})],1),n("v-flex",[n("v-checkbox",{attrs:{label:"啟用匿名模式","hide-details":"",type:"checkbox"},model:{value:e.anonymous_mode,callback:function(t){e.anonymous_mode=t},expression:"anonymous_mode"}})],1)],1)],1)],1)],1)],1),n("v-layout",[n("v-flex",[n("v-card",[n("v-card-title",[n("v-checkbox",{attrs:{label:"Torrent 排隊","hide-details":"",type:"checkbox"},model:{value:e.queueing_enabled,callback:function(t){e.queueing_enabled=t},expression:"queueing_enabled"}})],1),n("v-card-text",[n("v-layout",{attrs:{column:this.$vuetify.breakpoint.smAndDown}},[n("v-flex",[n("v-text-field",{attrs:{disabled:!e.queueing_enabled,type:"number",label:"最大活動的下載數"},model:{value:e.max_active_downloads,callback:function(t){e.max_active_downloads=t},expression:"max_active_downloads"}})],1),n("v-flex",[n("v-text-field",{attrs:{disabled:!e.queueing_enabled,type:"number",label:"最大活動的上傳數"},model:{value:e.max_active_uploads,callback:function(t){e.max_active_uploads=t},expression:"max_active_uploads"}})],1),n("v-flex",[n("v-text-field",{attrs:{disabled:!e.queueing_enabled,type:"number",label:"最大活動的 torrents 數"},model:{value:e.max_active_torrents,callback:function(t){e.max_active_torrents=t},expression:"max_active_torrents"}})],1)],1),n("v-layout",[n("v-flex",[n("v-card",[n("v-card-title",[n("v-checkbox",{attrs:{label:"慢速 torrent 不計入限制内",disabled:!e.queueing_enabled,"hide-details":"",type:"checkbox"},model:{value:e.dont_count_slow_torrents,callback:function(t){e.dont_count_slow_torrents=t},expression:"dont_count_slow_torrents"}})],1),n("v-card-text",[n("v-layout",{attrs:{row:""}},[n("v-flex",[n("v-text-field",{attrs:{disabled:!e.dont_count_slow_torrents,type:"number",suffix:"KiB/s",label:"下載速度閥值"},model:{value:e.slow_torrent_dl_rate_threshold,callback:function(t){e.slow_torrent_dl_rate_threshold=t},expression:"slow_torrent_dl_rate_threshold"}})],1),n("v-flex",[n("v-text-field",{attrs:{type:"number",disabled:!e.dont_count_slow_torrents,suffix:"KiB/s",label:"上傳速度閥值"},model:{value:e.slow_torrent_ul_rate_threshold,callback:function(t){e.slow_torrent_ul_rate_threshold=t},expression:"slow_torrent_ul_rate_threshold"}})],1),n("v-flex",[n("v-text-field",{attrs:{type:"number",disabled:!e.dont_count_slow_torrents,suffix:"秒",label:"種子不活動時間"},model:{value:e.slow_torrent_inactive_timer,callback:function(t){e.slow_torrent_inactive_timer=t},expression:"slow_torrent_inactive_timer"}})],1)],1)],1)],1)],1)],1)],1)],1)],1)],1),n("v-layout",[n("v-flex",[n("v-card",[n("v-card-title",[e._v("\n                                        分享率限制\n                                    ")]),n("v-card-text",[n("v-layout",{attrs:{column:this.$vuetify.breakpoint.smAndDown}},[n("v-flex",{attrs:{shrink:""}},[n("v-checkbox",{attrs:{label:"分享 torrents 直到比率","hide-details":"",type:"checkbox"},model:{value:e.max_ratio_enabled,callback:function(t){e.max_ratio_enabled=t},expression:"max_ratio_enabled"}})],1),n("v-flex",[n("v-text-field",{attrs:{disabled:!e.max_ratio_enabled},model:{value:e.max_ratio,callback:function(t){e.max_ratio=e._n(t)},expression:"max_ratio"}})],1)],1),n("v-layout",{attrs:{column:this.$vuetify.breakpoint.smAndDown}},[n("v-flex",{attrs:{shrink:""}},[n("v-checkbox",{attrs:{label:"分享 torrents 直到做種時間限制","hide-details":"",type:"checkbox"},model:{value:e.max_seeding_time_enabled,callback:function(t){e.max_seeding_time_enabled=t},expression:"max_seeding_time_enabled"}})],1),n("v-flex",[n("v-text-field",{attrs:{disabled:!e.max_seeding_time_enabled,suffix:"分鐘"},model:{value:e.max_seeding_time,callback:function(t){e.max_seeding_time=e._n(t)},expression:"max_seeding_time"}})],1)],1),n("v-layout",{attrs:{column:this.$vuetify.breakpoint.smAndDown}},[n("v-flex",[n("v-select",{attrs:{items:["暫停","刪除","開啟超級種子模式"].map(function(e,t){return{text:e,value:t}}),disabled:!e.max_ratio_enabled&&!e.max_seeding_time_enabled,"hide-details":"",label:"然後"},model:{value:e.max_ratio_act,callback:function(t){e.max_ratio_act=t},expression:"max_ratio_act"}})],1)],1)],1)],1)],1)],1),n("v-layout",[n("v-flex",[n("v-card",[n("v-card-title",[n("v-checkbox",{attrs:{label:"自動加入以下 trackers 到新的 torrents","hide-details":"",type:"checkbox"},model:{value:e.add_trackers_enabled,callback:function(t){e.add_trackers_enabled=t},expression:"add_trackers_enabled"}})],1),n("v-card-text",[n("v-layout",{attrs:{column:this.$vuetify.breakpoint.smAndDown}},[n("v-flex",[n("v-textarea",{attrs:{disabled:!e.add_trackers_enabled},model:{value:e.add_trackers,callback:function(t){e.add_trackers=t},expression:"add_trackers"}})],1)],1)],1)],1)],1)],1)],1)],1),n("v-tab-item",{attrs:{value:"web"}}),n("v-tab-item",{attrs:{value:"advanced"}})],1)],1),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{flat:""},on:{click:e.submit}},[e._v("儲存")]),n("v-btn",{attrs:{flat:""},on:{click:e.closeDialog}},[e._v("關閉")])],1)],1)],1)},ur=[];function dr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function pr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?dr(n,!0).forEach(function(t){Object(c["a"])(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dr(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var fr=r["default"].extend({components:{},props:{tab:String},data:function(){return{mTab:null,schedule_from_time:"",schedule_to_time:""}},created:function(){var e=Object(u["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.mTab=this.tab;case 1:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),computed:pr({schedule_from:{set:function(e){var t=e.split(":");t.length>1&&(this.schedule_from_hour=parseInt(t[0]),this.schedule_from_min=parseInt(t[1])),this.schedule_from_time=e},get:function(){return this.schedule_from_time||"".concat(R(this.schedule_from_hour),":").concat(R(this.schedule_from_min))}},schedule_to:{set:function(e){var t=e.split(":");t.length>1&&(this.schedule_to_hour=parseInt(t[0]),this.schedule_to_min=parseInt(t[1])),this.schedule_to_time=e},get:function(){return this.schedule_to_time||"".concat(R(this.schedule_to_hour),":").concat(R(this.schedule_to_min))}}},S({parent:"preferences",keys:["add_trackers","add_trackers_enabled",{path:"alt_dl_limit",trans:"1024"},{path:"alt_up_limit",trans:"1024"},"alternative_webui_enabled","alternative_webui_path","announce_ip","announce_to_all_tiers","announce_to_all_trackers","anonymous_mode","async_io_threads","auto_delete_mode","auto_tmm_enabled","autorun_enabled","autorun_program","banned_IPs","bittorrent_protocol","bypass_auth_subnet_whitelist","bypass_auth_subnet_whitelist_enabled","bypass_local_auth","category_changed_tmm_enabled","checking_memory_use","create_subfolder_enabled","current_interface_address","current_network_interface","dht","disk_cache","disk_cache_ttl",{path:"dl_limit",trans:"1024"},"dont_count_slow_torrents","dyndns_domain","dyndns_enabled","dyndns_password","dyndns_service","dyndns_username","embedded_tracker_port","enable_coalesce_read_write","enable_embedded_tracker","enable_multi_connections_from_same_ip","enable_os_cache","enable_super_seeding","enable_upload_suggestions","encryption","export_dir","export_dir_fin","file_pool_size","incomplete_files_ext","ip_filter_enabled","ip_filter_path","ip_filter_trackers","limit_lan_peers","limit_tcp_overhead","limit_utp_rate","listen_on_ipv6_address","listen_port","locale","lsd","mail_notification_auth_enabled","mail_notification_email","mail_notification_enabled","mail_notification_password","mail_notification_sender","mail_notification_smtp","mail_notification_ssl_enabled","mail_notification_username","max_active_downloads","max_active_torrents","max_active_uploads",{path:"max_connec",trans:"enable"},{path:"max_connec_per_torrent",trans:"enable"},{path:"max_uploads",trans:"enable"},{path:"max_uploads_per_torrent",trans:"enable"},{path:"max_seeding_time",trans:"enable"},{path:"max_ratio",trans:"enable"},"max_ratio_act","max_ratio_enabled","max_seeding_time_enabled","outgoing_ports_max","outgoing_ports_min","pex","preallocate_all","proxy_auth_enabled","proxy_ip","proxy_password","proxy_peer_connections","proxy_port","proxy_torrents_only",{path:"proxy_type",trans:{set:function(e,t){var n=t.preferences;n=void 0===n?{}:n;var r=n.proxy_auth_enabled,a=void 0!==r&&r;return f.a.get({2:a?4:2,1:a?3:1},e,e)},get:function(e){return f.a.get({4:2,3:1},e,e)}}},"proxy_username","queueing_enabled","random_port","recheck_completed_torrents","resolve_peer_countries","save_path","save_path_changed_tmm_enabled","save_resume_data_interval","scan_dirs","schedule_from_hour","schedule_from_min","schedule_to_hour","schedule_to_min","scheduler_days","scheduler_enabled","send_buffer_low_watermark","send_buffer_watermark","send_buffer_watermark_factor","slow_torrent_dl_rate_threshold","slow_torrent_inactive_timer","slow_torrent_ul_rate_threshold","socket_backlog_size","start_paused_enabled","temp_path","temp_path_enabled","torrent_changed_tmm_enabled",{path:"up_limit",trans:"1024"},"upload_choking_algorithm","upload_slots_behavior","upnp","use_https","utp_tcp_mixed_mode","web_ui_address","web_ui_clickjacking_protection_enabled","web_ui_csrf_protection_enabled","web_ui_domain_list","web_ui_host_header_validation_enabled","web_ui_https_cert_path","web_ui_https_key_path","web_ui_port","web_ui_session_timeout","web_ui_upnp","web_ui_username"]}),{phoneLayout:function(){return this.$vuetify.breakpoint.xsOnly},dialogWidth:function(){return this.phoneLayout?"100%":"80%"}}),methods:pr({},Object(d["b"])(["setPreferences"]),{changeStatus:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500;this[e]=this[e]?-1:t},submit:function(){var e=this;return this.setPreferences().then(function(){e.$dialog.message.success("儲存成功",{position:"top"}),e.closeDialog()})},closeDialog:function(){this.$emit("input",!1)}}),watch:{proxy_auth_enabled:function(e){this.proxy_type=f.a.get({1:e?3:1,2:e?4:2,3:e?3:1,4:e?4:2},this.proxy_type,this.proxy_type)},mTab:function(e){this.$emit("change",e)}}}),vr=fr,mr=(n("cc2f"),Object(_e["a"])(vr,cr,ur,!1,null,"f2990d04",null)),hr=mr.exports;function _r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function br(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_r(n,!0).forEach(function(t){Object(c["a"])(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_r(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}ge()(mr,{VBtn:ye["a"],VCard:ke["a"],VCardActions:we["a"],VCardText:we["b"],VCardTitle:Oe["a"],VCheckbox:je["a"],VContainer:Te["a"],VDialog:Ce["a"],VFlex:De["a"],VIcon:Re["a"],VLayout:Ve["a"],VSelect:Jn["a"],VSpacer:$e["a"],VSwitch:kn["a"],VTab:tn["a"],VTabItem:nn["a"],VTabs:rn["a"],VTabsItems:an["a"],VTextField:dt["a"],VTextarea:Ae["a"]});var gr=null,xr=r["default"].extend({name:"app",components:{AddForm:Ie,Drawer:ot,LoginForm:mt,Torrents:mn,AppFooter:jn,LogsDialog:Vn,RssDialog:lr,SettingDialog:hr},data:function(){return{needAuth:!1,drawer:!0,drawerOptions:{showLogs:!1,showRss:!1,showSetting:!1},pasteUrl:null,task:0}},created:function(){var e=Object(u["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.getInitData();case 2:gr=this.$refs.app.$el.querySelector(".application--wrap"),gr.addEventListener("paste",this.onPaste);case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),beforeDestroy:function(){this.task&&clearTimeout(this.task),gr.removeEventListener("paste",this.onPaste)},computed:br({},Object(d["e"])(["mainData","rid","preferences"]),{},Object(d["c"])(["config"]),{phoneLayout:function(){return this.$vuetify.breakpoint.xsOnly}}),methods:br({},Object(d["b"])(["getPreferences","getAllData"]),{getInitData:function(){var e=Object(u["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.getMainData();case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e["catch"](0),403===e.t0.response.status&&(this.needAuth=!0),e.abrupt("return");case 9:return e.next=11,this.getPreferences();case 11:case"end":return e.stop()}},e,this,[[0,5]])}));function t(){return e.apply(this,arguments)}return t}(),getMainData:function(){var e=Object(u["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.getAllData();case 2:this.task=setTimeout(this.getMainData,this.config.updateInterval);case 3:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),drawerFooterOpen:function(){var e=Object(u["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,j(350);case 4:this.$refs.end.scrollIntoView({behavior:"smooth"});case 5:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),onPaste:function(e){var t=e.clipboardData.getData("text");t&&(this.pasteUrl=t)}}),watch:{needAuth:function(){var e=Object(u["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t){e.next=3;break}return e.next=3,this.getInitData();case 3:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()}}),yr=xr,kr=(n("4a48"),n("5c64"),n("7496")),wr=n("549c"),Or=n("553a"),jr=n("f774"),Pr=Object(_e["a"])(yr,le,ce,!1,null,"519a824c",null),Tr=Pr.exports;ge()(Pr,{VApp:kr["a"],VBtn:ye["a"],VContent:wr["a"],VDivider:fn["a"],VExpansionPanel:ir["a"],VExpansionPanelContent:or["a"],VFooter:Or["a"],VIcon:Re["a"],VLayout:Ve["a"],VNavigationDrawer:jr["a"],VSpacer:$e["a"]});n("d5e8"),n("775b");var Cr=n("4f37"),Dr=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-dialog",{ref:"vdialog",attrs:{"content-class":"vuedl-layout",fullscreen:e.fullscreen,"max-width":e.getWidth,persistent:e.persistent||e.loading,scrollable:e.scrollable,transition:e.transition},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.dismiss(t)}},model:{value:e.isActive,callback:function(t){e.isActive=t},expression:"isActive"}},[!e.showClose||e.persistent||e.loading?e._e():n("div",{staticClass:"vuedl-layout__closeBtn",on:{click:function(t){return t.stopPropagation(),e.close(t)}}},[e._v("×")]),n("dialog-child",e._b({ref:"dialog"},"dialog-child",e.$options.propsData,!1))],1)},Sr=[],Rr={props:{fullscreen:Boolean,scrollable:Boolean,transition:{type:[String,Boolean],default:"dialog-transition"},showClose:{type:Boolean,default:function(){return!0}}},methods:{_destroy:function(){var e=this;setTimeout(function(){e.$destroy()},1e3)}}},Vr=Rr,$r=(n("8ae8"),Object(_e["a"])(Vr,Dr,Sr,!1,null,null,null)),Ar=$r.exports;ge()($r,{VDialog:Ce["a"]});var Lr=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",{attrs:{tile:""}},[Boolean(e.type)?n("v-toolbar",{attrs:{dark:"",color:e.getColor,dense:"",flat:""}},[Boolean(e.getIcon)?n("v-icon",[e._v(e._s(e.getIcon))]):e._e(),n("v-toolbar-title",[e._v(e._s(e.title))])],1):e._e(),e.type?e._e():n("v-card-title",[n("h3",{staticClass:"headline mb-0",domProps:{textContent:e._s(e.title)}})]),n("v-card-text",{domProps:{innerHTML:e._s(e.text)}}),n("v-card-actions",[n("v-spacer"),n("DialogActions",{attrs:{actions:e.actions,flat:""}})],1)],1)},Ir=[],Er=n("4450"),Br={props:{type:String,color:String},computed:{getColor:function(){return this.color||this.type}}},Fr=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",e._l(e.actionlist,function(t){return n("DialogAction",e._b({key:t.key,class:{loading:e.loadingAction===t.key},attrs:{"action-key":""+t.key,loading:!e.passive&&e.isActionInLoading(t),disabled:e.isActionDisabled(t)||!e.passive&&Boolean(e.loadingAction)},on:{click:function(n){return e.onActionClick(t)}}},"DialogAction",e.getActionProps(t),!1))}),1)},Ur=[],Nr=n("1ba2"),zr=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n(e.component,e._g(e._b({tag:"component",attrs:{flat:e.flat,outline:e.outline,icon:!e.text&&Boolean(e.icon),color:e.color,round:e.round,loading:e.loading,disabled:e.disabled},on:{click:function(t){return e.$emit("click",this)}}},"component",e.attrs,!1),e.$listeners),[e.icon&&!e.icon.right?n("v-icon",e._b({domProps:{textContent:e._s(e.icon.text)}},"v-icon",e.icon,!1)):e._e(),e._v("\n  "+e._s(e.actionText)+"\n  "),e.icon&&e.icon.right?n("v-icon",e._b({domProps:{textContent:e._s(e.icon.text)}},"v-icon",e.icon,!1)):e._e()],1)},Mr=[],qr={props:{attrs:Object,component:{type:[String,Object],default:function(){return"v-btn"}},text:[String,Function],color:String,disabled:Boolean,flat:Boolean,icon:Object,loading:Boolean,outline:Boolean,round:Boolean},computed:{actionText:function(){return"function"===typeof this.text?this.text():this.text}}},Gr=qr,Hr=Object(_e["a"])(Gr,zr,Mr,!1,null,null,null),Wr=Hr.exports;ge()(Hr,{VIcon:Re["a"]});var Yr={components:{DialogAction:Wr},mixins:[Nr["a"]],props:{component:[String,Object],color:String,flat:Boolean,round:Boolean,outline:Boolean,passive:Boolean},computed:{nestedProps:function(){return["color","flat","icon","outline","round"]}},methods:{getActionProps:function(e){var t=this,n={component:e.component||this.component,text:e.text};return this.nestedProps.forEach(function(r){(e[r]||t[r])&&(n[r]=void 0===e[r]?t[r]:e[r])}),n}}},Jr=Yr,Kr=Object(_e["a"])(Jr,Fr,Ur,!1,null,null,null),Zr=Kr.exports,Xr={components:{DialogActions:Zr},layout:["default"],mixins:[Er["a"],Br],props:{icon:{type:[String,Boolean],default:void 0},text:{type:[String,Function],reqiured:!0}},computed:{getIcon:function(){if(!1!==this.icon)return this.icon||this.$vuetify&&this.$vuetify.icons&&this.$vuetify.icons[this.type]||this.type},getText:function(){return"function"===typeof this.text?this.text():this.text}}},Qr=Xr,ea=Object(_e["a"])(Qr,Lr,Ir,!1,null,null,null),ta=ea.exports;ge()(ea,{VCard:ke["a"],VCardActions:we["a"],VCardText:we["b"],VCardTitle:Oe["a"],VIcon:Re["a"],VSpacer:$e["a"],VToolbar:pt["a"],VToolbarTitle:ft["a"]});var na=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("span",{domProps:{innerHTML:e._s(e.text)}}),n("DialogActions",{attrs:{actions:e.actions}})],1)},ra=[],aa={layout:"snackbar",mixins:[Er["a"]],components:{DialogActions:Zr}},ia=aa,oa=Object(_e["a"])(ia,na,ra,!1,null,null,null),sa=oa.exports,la=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-alert",{staticStyle:{margin:"0","min-width":"300px"},attrs:{value:!0,dismissible:e.dismissible,type:e.type},on:{input:function(t){return e.$emit("submit")}}},[e._v("\n  "+e._s(e.text)+"\n  "),n("DialogActions",{attrs:{actions:e.actions}})],1)},ca=[],ua={components:{DialogActions:Zr},layout:["notification",{showClose:!1}],props:{type:{type:String,default:function(){return"info"}},actions:[Array,Object],text:String,dismissible:{type:Boolean,default:!0}}},da=ua,pa=Object(_e["a"])(da,la,ca,!1,null,null,null),fa=pa.exports;ge()(pa,{VAlert:xe["a"]});var va=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-snackbar",e._b({staticClass:"application",attrs:{timeout:e.timeout||5e3,color:e.getColor,top:e.top,left:e.left,right:e.right,bottom:e.bottom},on:{click:e.dismiss},model:{value:e.isActive,callback:function(t){e.isActive=t},expression:"isActive"}},"v-snackbar",e.$options.propsData,!1),[n("dialog-child",e._b({ref:"dialog"},"dialog-child",e.$options.propsData,!1))],1)],1)},ma=[],ha=(n("c5f6"),{mixins:[Br],props:{timeout:Number,position:String},data:function(){var e=this.position||this.$options.propsData.position||"";return{top:-1!==e.indexOf("top"),left:-1!==e.indexOf("left"),right:-1!==e.indexOf("right"),bottom:-1!==e.indexOf("bottom")}},methods:{_destroy:function(){var e=this;setTimeout(function(){e.$destroy()},500)}}}),_a=ha,ba=n("2db4"),ga=Object(_e["a"])(_a,va,ma,!1,null,null,null),xa=ga.exports;ge()(ga,{VSnackbar:ba["a"]});var ya=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("DialogCard",{ref:"card",attrs:{title:e.title,actions:e.actions,handle:e.handleClick}},[n("v-text-field",{ref:"input",attrs:{required:"",label:e.text},on:{keypress:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.$emit("submit",e.editedValue)}},model:{value:e.editedValue,callback:function(t){e.editedValue=t},expression:"editedValue"}})],1)],1)},ka=[],wa=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",[e.title?n("v-card-title",[e._t("title",[n("span",{class:e.titleClass,domProps:{textContent:e._s(e.title)}})])],2):e._e(),n("v-card-text",[e._t("default")],2),n("v-card-actions",[n("v-spacer"),n("DialogActions",{ref:"actions",attrs:{actions:e.actions,flat:"",handle:e.handle}})],1)],1)},Oa=[],ja={components:{DialogActions:Zr},props:{title:String,titleClass:{type:String,default:"headline"},actions:[Array,Object,Function],handle:Function},methods:{trigger:function(e){this.$refs.actions&&this.$refs.actions.trigger(e)}}},Pa=ja,Ta=(n("a877"),Object(_e["a"])(Pa,wa,Oa,!1,null,null,null)),Ca=Ta.exports;ge()(Ta,{VCard:ke["a"],VCardActions:we["a"],VCardText:we["b"],VCardTitle:Oe["a"],VSpacer:$e["a"]});var Da={components:{DialogCard:Ca},layout:"default",mixins:[Er["a"]],props:{value:String},data:function(){return{editedValue:this.value}},mounted:function(){var e=this;setTimeout(function(){e.$refs.input.focus()},100)},methods:{handleClick:function(e,t){return this.$emit("submit",t.key?this.editedValue:t.key),!1}}},Sa=Da,Ra=Object(_e["a"])(Sa,ya,ka,!1,null,null,null),Va=Ra.exports;ge()(Ra,{VTextField:dt["a"]});var $a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("DialogCard",{ref:"card",attrs:{title:e.title,actions:e.actions,handle:e.handleClick}},[e._l(e.items,function(t,r){return["input"===t.type?n("v-text-field",{key:t.key,ref:t.key,refInFor:!0,attrs:{label:t.name},model:{value:e.formValues[t.key],callback:function(n){e.$set(e.formValues,t.key,n)},expression:"formValues[item.key]"}}):e._e()]})],2)],1)},Aa=[];function La(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Ia(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?La(n,!0).forEach(function(t){Object(c["a"])(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):La(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var Ea={components:{DialogCard:Ca},layout:"default",mixins:[Er["a"]],props:{value:String,forms:Array},computed:{items:function(){return _.map(this.forms,function(e){return Ia({type:"input"},e)})}},data:function(){return{formValues:_.reduce(this.forms,function(e,t){return Ia({},e,Object(c["a"])({},t.key,t.value))},{})}},mounted:function(){var e=this;setTimeout(function(){var t=_.get(e.items,[0,"key"]);t&&e.$refs[t][0].focus()},100)},methods:{handleClick:function(e,t){return this.$emit("submit",t.key?this.formValues:t.key),!1}}},Ba=Ea,Fa=Object(_e["a"])(Ba,$a,Aa,!1,null,null,null),Ua=Fa.exports;ge()(Fa,{VTextField:dt["a"]});var Na=n("40df");function za(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Ma(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?za(n,!0).forEach(function(t){Object(c["a"])(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):za(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function qa(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!qa.installed){qa.installed=!0;var n=t.property||"$dialog",r=t.actions||function(){return{false:"取消",true:{text:"確認",color:"primary"}}};e.use(Cr["a"],t);var a=e.prototype[n];a.layout("default",Ar),a.layout("snackbar",xa),a.layout("notification",Na["a"]),e.component("DialogActions",Zr),e.component("DialogCard",Ca),a.component("confirm",ta,Ma({waitForResult:!0,actions:r},t.confirm)),a.component("warning",ta,Ma({type:"warning",waitForResult:!0,actions:r},t.warning)),a.component("error",ta,Ma({type:"error",waitForResult:!0,actions:["Close"]},t.error)),a.component("toast",sa,Ma({waitForResult:!0},t.toast)),a.message={info:function(e,t){return a.toast(Ma({text:e,type:"info"},t))},error:function(e,t){return a.toast(Ma({text:e,type:"error"},t))},success:function(e,t){return a.toast(Ma({text:e,type:"success"},t))},warning:function(e,t){return a.toast(Ma({text:e,type:"warning"},t))}},a.component("notification",fa,Ma({waitForResult:!0},t.notification)),a.notify={info:function(e,t){return a.notification(Ma({text:e,type:"info"},t))},error:function(e,t){return a.notification(Ma({text:e,type:"error"},t))},success:function(e,t){return a.notification(Ma({text:e,type:"success"},t))},warning:function(e,t){return a.notification(Ma({text:e,type:"warning"},t))}},a.component("prompt",Va,Ma({waitForResult:!0,actions:r},t.prompt)),a.component("form",Ua,Ma({waitForResult:!0,actions:r},t.form))}}var Ga={install:qa};"undefined"!==typeof window&&window.Vue&&window.Vue.use(Ga);var Ha=Ga,Wa=(n("8128"),n("7bb1")),Ya=n("fd7a"),Ja=n.n(Ya),Ka=n("e508");n("a899");r["default"].use(Ka["a"]),r["default"].use(Wa["a"],{locale:"zh_CN",dictionary:{zh_CN:Ja.a}}),r["default"].config.productionTip=!1,r["default"].use(Ha),new r["default"]({store:ne,render:function(e){return e(Tr)}}).$mount("#app")},cdd4:function(e,t,n){},d81c:function(e,t,n){"use strict";var r=n("ee65"),a=n.n(r);a.a},d81e:function(e,t,n){"use strict";var r=n("5564"),a=n.n(r);a.a},d8cd:function(e,t,n){},dc3a:function(e,t,n){},dcf2:function(e,t,n){"use strict";var r=n("f172"),a=n.n(r);a.a},df7a:function(e,t,n){},e2a8:function(e,t,n){"use strict";var r=n("78a3"),a=n.n(r);a.a},ea9e:function(e,t,n){},ee65:function(e,t,n){},ef3f:function(e,t,n){"use strict";var r=n("b135"),a=n.n(r);a.a},f172:function(e,t,n){},f420:function(e,t,n){}});